exports.id=111,exports.ids=[111],exports.modules={7418:(a,b,c)=>{"use strict";c.d(b,{$B:()=>i,Au:()=>j,EW:()=>m,JJ:()=>n,Pt:()=>q,Vm:()=>l,XC:()=>k,Zq:()=>p,a3:()=>g,hT:()=>h,jJ:()=>o});var d=c(99756),e=c(93614);d.Ik({id:d.ai().optional(),userId:d.ai().optional(),position:d.Yj().min(3),initial:d.Yj().min(3)});let f=d.Ik({id:d.ai().optional(),branchCode:d.Yj().min(1,{message:"Branch code is required"}).max(10,{message:"Branch code must be at most 10 characters"}),branchName:d.Yj().min(1,{message:"Branch name is required"}).max(100,{message:"Branch name must be at most 100 characters"}),coordinatorId:d.ai().optional(),bfomId:d.ai().optional(),telephone:d.Yj().min(1,{message:"Telephone number is required"}).max(20,{message:"Telephone number must be at most 20 characters"}),address:d.Yj().min(1,{message:"Address is required"}).max(150,{message:"Address must be at most 100 characters"}),companyName:d.Yj().min(1,{message:"Company name is required"}).max(150,{message:"Company name must be at most 150 characters"}),createdAt:d.p6().optional(),updatedAt:d.p6().optional()}),g=f.omit({id:!0,createdAt:!0,updatedAt:!0}),h=f.partial().refine(a=>Object.keys(a).length>0,{message:"At least one field must be provided for update"}),i=d.re({id:d.ai().optional(),requestName:d.Yj().min(1),checkedById:d.ai().nullable(),checkedBy2Id:d.ai().nullable(),checkedBy3Id:d.ai().nullable(),checkedBy4Id:d.ai().nullable(),recomApprovalId:d.ai().nullable(),recomApproval2Id:d.ai().nullable(),approveById:d.ai().nullable(),approveBy2Id:d.ai().nullable(),createdAt:d.Yj().optional(),updateAt:d.Yj().optional()}),j=i.partial().extend({id:d.ai().int().positive()});i.omit({id:!0,createdAt:!0,updatedAt:!0}),i.partial().refine(a=>Object.keys(a).length>0,{message:"At least one field must be provided for update"}),d.Ik({id:d.ai().optional(),requestTypeId:d.ai(),requestById:d.ai(),status:d.Yj(),requestDate:d.p6(),createdAt:d.p6().optional(),updatedAt:d.p6().optional()});let k=d.Ik({checkedById:d.ai().nullable().optional(),checkedBy2Id:d.ai().nullable().optional(),checkedBy3Id:d.ai().nullable().optional(),checkedBy4Id:d.ai().nullable().optional(),recomApprovalId:d.ai().nullable().optional(),recomApproval2Id:d.ai().nullable().optional(),approveById:d.ai().nullable().optional(),approveBy2Id:d.ai().nullable().optional()}),l=d.Ik({id:d.ai().optional(),mainRequestID:d.ai().optional(),requestToId:d.ai({message:"Select only in the provided data"}).min(1,{message:"Requested to is required"}),requestFromId:d.ai({message:"Select only in the provided data"}).min(1),requestContent:d.Yj().min(1),createdAt:d.p6().optional(),updatedAt:d.p6().optional(),requestDate:e.p6().refine(a=>a instanceof Date&&!isNaN(a.getTime()),{message:"Invalid date format"}).or(d.bz().refine(a=>!!a,{message:"Date is required"})),requestTypeId:d.ai().optional(),requestById:d.ai().optional()}).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({approvers:k}),m=d.Ik({tagsField:d.YO(d.Yj().min(1)).min(1,"At least one tag is required"),travelDate:e.p6(),travelling:d.Yj().max(100,"Your text is too long."),fuelFee:e.ai().min(0,"fee must be 0 or greater").max(1e5,"fee must not exceed limit.").refine(a=>/^\d+(\.\d{1,2})?$/.test(a.toString()),{message:"Maximum of 2 decimal places allowed"}),repairs:d.YO(d.Yj().min(1)).optional(),litigationExp:e.ai().min(0,"fee must be 0 or greater").max(1e5,"fee must not exceed limit.").refine(a=>/^\d+(\.\d{1,2})?$/.test(a.toString()),{message:"Maximum of 2 decimal places allowed"}),totalFunds:e.ai().min(0,"fee must be 0 or greater").max(1e5,"fee must not exceed limit.").refine(a=>/^\d+(\.\d{1,2})?$/.test(a.toString()),{message:"Maximum of 2 decimal places allowed"}),travelKm:d.Yj().max(10,"You exceeded the text limit."),fundRemarks:d.Yj().max(200,"Make your remark shorter"),startDate:e.p6(),endDate:e.p6()}),n=d.Ik({funDate:e.p6(),payee:d.Yj().max(100,"Your text is too long."),fundRemarks:d.Yj().max(200,"Make your remark shorter"),fundAmount:e.ai().min(0,"amount must be 0 or greater").max(1e5,"amount must not exceed limit.").refine(a=>/^\d+(\.\d{1,2})?$/.test(a.toString()),{message:"Maximum of 2 decimal places allowed"}),miscExp:e.ai().min(0,"fee must be 0 or greater").max(1e5,"fee must not exceed limit.").refine(a=>/^\d+(\.\d{1,2})?$/.test(a.toString()),{message:"Maximum of 2 decimal places allowed"}),powerLight:e.ai().min(0,"fee must be 0 or greater").max(1e5,"fee must not exceed limit.").refine(a=>/^\d+(\.\d{1,2})?$/.test(a.toString()),{message:"Maximum of 2 decimal places allowed"}),telephone:e.ai().min(0,"fee must be 0 or greater").max(1e5,"fee must not exceed limit.").refine(a=>/^\d+(\.\d{1,2})?$/.test(a.toString()),{message:"Maximum of 2 decimal places allowed"}),dueToMh:e.ai().min(0,"fee must be 0 or greater").max(1e5,"fee must not exceed limit.").refine(a=>/^\d+(\.\d{1,2})?$/.test(a.toString()),{message:"Maximum of 2 decimal places allowed"}),startDate:e.p6(),endDate:e.p6()}),o=d.Ik({office:d.Yj().min(1,"Required").max(50),branch:d.Yj().min(1,"Required").max(100),dateCounted:e.p6(),nameFund:d.Yj().min(1,"Required").max(100),fundAmount:e.ai().min(0,"Must be 0 or greater"),reference:d.Yj().max(100).optional(),denoms:d.YO(e.ai()),pieces:d.YO(e.ai().min(0,"Must be 0 or greater")),amounts:d.YO(e.ai().min(0,"Must be 0 or greater")),fundPerCount:e.ai().min(0,"Must be 0 or greater"),cashShort:e.ai().min(0,"Must be 0 or greater"),checked:d.YO(e.zM()).optional()}).passthrough().extend({approvers:k});d.Ik({company:d.Yj().min(1,"Required").max(100),branch:d.Yj().min(1,"Required").max(100)}),d.Ik({company:d.Yj().min(1,"Required").max(100),branch:d.Yj().min(1,"Required").max(100)});let p=d.Ik({statedTo:d.ai().min(1,"Required"),statedFrom:d.ai().min(1,"Required"),statedDate:e.p6().refine(a=>!isNaN(a.getTime()),{message:"Date is required."}),statedSubject:d.Yj().min(1,"This field is required.").max(100,"Your text is too long."),statedDetails:d.Yj().min(1,"This field is required.").max(1e3,"Your text is more than required.")}).passthrough().extend({approvers:k}),q=d.Ik({tableHeader:d.Yj().max(200,"Your header is too long"),tableColAction:d.Yj().max(100,"Your text is too long")})},8402:(a,b,c)=>{"use strict";c.d(b,{default:()=>h});var d=c(60687),e=c(39091),f=c(8693),g=c(43210);function h({children:a}){let[b]=(0,g.useState)(()=>new e.E);return(0,d.jsx)(f.Ht,{client:b,children:a})}},12109:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16133,23)),Promise.resolve().then(c.t.bind(c,16444,23)),Promise.resolve().then(c.t.bind(c,16042,23)),Promise.resolve().then(c.t.bind(c,49477,23)),Promise.resolve().then(c.t.bind(c,29345,23)),Promise.resolve().then(c.t.bind(c,12089,23)),Promise.resolve().then(c.t.bind(c,46577,23)),Promise.resolve().then(c.t.bind(c,31307,23)),Promise.resolve().then(c.t.bind(c,14817,23))},22544:(a,b,c)=>{"use strict";c.d(b,{L3:()=>f,X5:()=>e,q8:()=>g});var d=c(99756);let e=d.Ik({username:d.Yj().min(1),password:d.Yj().min(6)}),f=d.Ik({name:d.Yj().min(1,"Name is required"),email:d.Yj().optional(),username:d.Yj().min(1,"Username is required"),password:d.Yj().min(6,"Password must be at least 6 characters"),role:d.k5(["Admin","User","Branch","Superadmin","Coordinator","System"]).default("User"),branchId:d.ai().optional(),position:d.Yj().optional(),initial:d.Yj().optional(),phoneNumber:d.Yj().max(11,"Password must be at 11 characters").optional(),approver:d.zM().default(!1)}),g=f.extend({id:d.ai().optional(),password:d.Yj().optional(),email:d.Yj().optional()})},33294:(a,b,c)=>{"use strict";c.d(b,{A:()=>f});var d=c(60687),e=c(43210);let f=({data:a,placeholder:b="Select data...",label:c,name:f,value:g,onChange:h,inputRef:i,error:j,disabled:k=!1,returnField:l="id"})=>{let[m,n]=(0,e.useState)(""),[o,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)([]),[s,t]=(0,e.useState)(!1),u=(0,e.useMemo)(()=>null==g||""===g?null:a.find(a=>String(a.id)===String(g))??null,[g,a]);(0,e.useEffect)(()=>{s||(""===g||null==g?n(""):n(u?.name??String(g)))},[u,g,s]);let v=`si-${f}`;return(0,d.jsxs)("div",{className:"relative w-full",children:[c&&(0,d.jsx)("label",{htmlFor:v,className:"block mb-2 text-sm font-medium text-gray-900",children:c}),(0,d.jsx)("input",{id:v,ref:i,name:f,type:"text",value:m,onChange:b=>{let c=b.target.value;if(n(c),t(!0),0===c.trim().length){h(""),r([]),p(!1);return}let d=c.toLowerCase();r(a.filter(a=>String(a.id).toLowerCase().includes(d)||a.name.toLowerCase().includes(d))),p(!0)},onBlur:()=>{setTimeout(()=>t(!1),200),p(!1)},placeholder:b,disabled:k,className:`bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg
          focus:outline-none block w-full p-2.5
          ${j?"focus:ring-2 focus:ring-red-500 focus:border-red-500":"focus:ring-2 focus:ring-green-500 focus:border-green-500"}
          ${k?"opacity-50 cursor-not-allowed bg-gray-100":""}
        `,autoComplete:"off"}),j&&(0,d.jsx)("p",{className:"text-red-500 text-sm mt-1",children:j.message}),o&&q.length>0&&(0,d.jsx)("ul",{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded border border-gray-200 bg-white shadow",children:q.map(a=>(0,d.jsx)("li",{className:"cursor-pointer px-3 py-2 hover:bg-gray-100",onMouseDown:()=>(a=>{n(a.name),p(!1),t(!1),h("name"===l?a.name:a.id)})(a),children:(0,d.jsx)("span",{className:"text-gray-700",children:a.name})},a.id))})]})}},33985:(a,b,c)=>{"use strict";c.d(b,{a6:()=>j,as:()=>h,j:()=>i});var d=c(8693),e=c(54050),f=c(51423),g=c(70777);let h=({mutationFn:a,queryKey:b,...c})=>{let f=(0,d.jE)();return(0,e.n)({mutationFn:a,onSuccess:(...a)=>{f.invalidateQueries({queryKey:b}),c.onSuccess?.(...a)},...c})},i=({queryKey:a,queryFn:b,staleTime:c=3e5,enabled:d=!0})=>(0,f.I)({queryKey:a,queryFn:b,staleTime:c,enabled:d}),j=({baseUrl:a,invalidateKeys:b})=>{let c=(0,d.jE)();return(0,e.n)({mutationFn:b=>(0,g.ST)(a,b),onSuccess:()=>{for(let a of b)c.invalidateQueries({queryKey:a})}})}},35283:(a,b,c)=>{"use strict";c.d(b,{Ku:()=>f,Pd:()=>e,sO:()=>g,zD:()=>h});var d=c(60687);let e=({label:a,placeholder:b,register:c,error:e,type:f,readonly:g,step:h})=>(0,d.jsxs)("div",{className:"flex flex-col w-full",children:[a&&(0,d.jsx)("label",{htmlFor:c?.name,className:"block mb-2 text-sm font-medium text-gray-900",children:a}),(0,d.jsx)("input",{type:f,...c,readOnly:g,step:h,id:c?.name,className:`bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg
            focus:outline-none  block w-full p-2.5 
            ${e?"focus:ring-2 focus:ring-red-500 focus:border-red-500":"focus:ring-2 focus:ring-green-500 focus:border-green-500 "}`,placeholder:b}),"string"==typeof e?.message&&(0,d.jsx)("p",{className:"text-red-500 text-sm mt-1",children:e.message})]}),f=({label:a,register:b,error:c,options:e,placeholder:f})=>(0,d.jsxs)("div",{className:"flex flex-col",children:[a&&(0,d.jsx)("label",{htmlFor:b?.name,className:"block mb-2 text-sm font-medium text-gray-900",children:a}),(0,d.jsxs)("select",{...b,id:b?.name,className:`bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg
            focus:outline-none  block w-full p-2.5 
            ${c?"focus:ring-2 focus:ring-red-500 focus:border-red-500":"focus:ring-2 focus:ring-green-500 focus:border-green-500 "}`,children:[(0,d.jsx)("option",{value:"",children:f}),e?.map(a=>(0,d.jsx)("option",{value:a.value,children:a.label},a.value))]}),c&&(0,d.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.message})]}),g=({label:a,placeholder:b,register:c,error:e})=>(0,d.jsxs)("div",{className:"flex flex-col w-full h-full",children:[a&&(0,d.jsx)("label",{htmlFor:c?.name,className:"block mb-2 text-sm font-medium text-gray-900",children:a}),(0,d.jsx)("textarea",{...c,id:c?.name,placeholder:b,className:`h-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg 
            focus:outline-none block w-full p-2.5 
            ${e?"focus:ring-2 focus:ring-red-500 focus:border-red-500":"focus:ring-2 focus:ring-green-500 focus:border-green-500"}`}),"string"==typeof e?.message&&(0,d.jsx)("p",{className:"text-red-500 text-sm mt-1",children:e.message})]}),h=({label:a,placeholder:b,register:c,error:e})=>(0,d.jsxs)("div",{className:"flex flex-col w-full",children:[a&&(0,d.jsx)("label",{htmlFor:c?.name,className:"block mb-2 text-sm font-medium text-gray-900",children:a}),(0,d.jsxs)("div",{className:"flex items-center me-4 bg-gray-50 border border-gray-300 p-2.5 rounded-lg",children:[(0,d.jsx)("input",{id:c?.name,type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2",...c}),(0,d.jsx)("label",{htmlFor:c?.name,className:"ms-2 text-sm font-medium text-gray-900",children:b})]}),"string"==typeof e?.message&&(0,d.jsx)("p",{className:"text-red-500 text-sm mt-1",children:e.message})]})},37766:(a,b,c)=>{"use strict";c.d(b,{Lx:()=>e,Ni:()=>f,SR:()=>h,y4:()=>g});var d=c(59556);let e=async a=>(await d.A.post("/login",a)).data,f=async()=>(await d.A.get("/me")).data,g=async()=>(await d.A.post("/logout")).data,h=async(a,b)=>(await d.A.put(`/user/${a}/sms-notification`,{smsNotification:b})).data},39727:()=>{},42588:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/app/app/request/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/app/request/layout.tsx","default")},46055:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(31658);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},47990:()=>{},48622:(a,b,c)=>{"use strict";c.d(b,{Cd:()=>n,Wn:()=>l,rA:()=>m,vz:()=>k});var d=c(79284),e=c(51108),f=c(37766),g=c(54050),h=c(51423),i=c(8693),j=c(16189);let k=()=>{let a=(0,j.useRouter)();return(0,g.n)({mutationFn:a=>(0,f.Lx)(a),onSuccess:()=>{a.push("/request")}})},l=()=>{let a=(0,j.useRouter)(),{setUser:b}=(0,e.A)();return(0,g.n)({mutationFn:f.y4,onSuccess:()=>{b(null),a.push("/login")}})},m=()=>(0,h.I)({queryKey:["me"],queryFn:f.Ni}),n=()=>{let a=(0,i.jE)();return(0,g.n)({mutationFn:a=>(0,f.SR)(a.id,a.smsNotification),onSuccess:(b,c)=>{a.invalidateQueries({queryKey:["me"]}),d.A.successAlert("Success",`SMS notification turned ${c.smsNotification?"ON":"OFF"}`)}})}},51108:(a,b,c)=>{"use strict";c.d(b,{A:()=>i,AuthProvider:()=>h});var d=c(60687),e=c(43210),f=c(59556);let g=(0,e.createContext)({user:null,setUser:()=>{},loading:!0}),h=({children:a})=>{let[b,c]=(0,e.useState)(null),[h,i]=(0,e.useState)(!0);return(0,e.useEffect)(()=>{f.A.get("/me").then(a=>c(a.data)).catch(()=>c(null)).finally(()=>i(!1))},[]),(0,d.jsx)(g.Provider,{value:{user:b,setUser:c,loading:h},children:a})},i=()=>(0,e.useContext)(g)},54654:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>ah});var d=c(60687),e=c(37590),f=c(74231),g=c(64882),h=c(19257),i=c(43210),j=c(48622),k=c(33159),l=c(6441),m=c(70777),n=c(33985),o=c(8693),p=c(54050),q=c(59556);let r=()=>{let{data:a}=(0,j.rA)();return(0,n.j)({queryKey:["notifications",a?.id],queryFn:()=>(0,m.bQ)("/request/user-notification")})};function s(a){let b=new Date(a),c=Math.floor((new Date().getTime()-b.getTime())/1e3);if(c<60)return`${c}s `;let d=Math.floor(c/60);if(d<60)return`${d}m `;let e=Math.floor(d/60);if(e<24)return`${e}h `;let f=Math.floor(e/24);if(f<30)return`${f}d `;let g=Math.floor(f/30);if(g<12)return`${g}mo `;let h=Math.floor(g/12);return`${h}y `}function t(a){return a.split(/(".*?"|REF\d+)/).map((a,b)=>a.startsWith('"')&&a.endsWith('"')?(0,d.jsx)("strong",{className:"font-semibold",children:a.replace(/"/g,"")},b):a.startsWith("REF")?(0,d.jsx)("span",{className:"font-medium ",children:a},b):a)}var u=c(16189),v=c(79284);function w(){let{data:a}=(()=>{let{data:a}=(0,j.rA)();return(0,n.j)({queryKey:["logs",a?.id],queryFn:()=>(0,m.bQ)("/request/user-logs")})})();return(0,d.jsxs)("div",{className:"absolute z-11 flex flex-col  justify-between bg-white min-h-75 w-75 top-14 right-3 rounded-xl shadow-[0_0_17px_0_rgba(0,0,0,0.1)]  p-3.5",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-1 justify-between h-full",children:[(0,d.jsx)("h6",{className:"font-bold text-md",children:"Request Logs"}),(0,d.jsx)("div",{className:"flex justify-between",children:(0,d.jsx)("p",{className:"text-sm font-semibold",children:"Earlier"})}),(0,d.jsx)("div",{className:"flex flex-col  max-h-70 overflow-auto",children:a?.map(a=>(0,d.jsxs)("div",{className:" mb-0.5 flex gap-3 items-center p-1.5 rounded-md cursor-pointer hover:bg-gray-100 transition",children:[(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex justify-center items-center text-[#414342] font-bold text-sm",children:"!"})}),(0,d.jsxs)("div",{className:"flex flex-col text-xs",children:[(0,d.jsx)("p",{className:"text-gray-800",children:a.remarks?t(a.remarks):""}),(0,d.jsx)("p",{className:"text-[#32B695]",children:s(a.createdAt)})]})]},a.id))})]}),(0,d.jsx)("div",{className:"flex px-2 mt-2",children:(0,d.jsx)("button",{className:"bg-[#E7E7E7] text-sm p-2 rounded-md w-full font-semibold",children:"See previous  requests"})})]})}let x=({handleClickModal:a})=>{let{mutate:b}=(0,j.Wn)(),{data:c}=(0,j.rA)(),e=(0,j.Cd)();return console.log("status: ",c?.approver),(0,d.jsxs)("div",{className:"absolute z-11 flex flex-col  justify-between bg-white min-h-75 w-75 top-14 right-3 rounded-xl shadow-[0_0_17px_0_rgba(0,0,0,0.1)]  p-3.5",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-1 justify-between h-full",children:[(0,d.jsxs)("div",{className:"flex gap-2 items-center border-b-2 border-gray-300 p-1 pb-2 cursor-pointer",children:[(0,d.jsx)("div",{className:" bg-[#F2F7F4] text-[#414342] hover:bg-gray-200  w-9 h-9  rounded-full flex justify-center items-center cursor-pointer ",children:(0,d.jsx)(h.A,{className:""})}),(0,d.jsx)("h6",{className:"font-semibold text-sm",children:c?.name})]}),(0,d.jsx)("h6",{className:"font-bold text-md",children:"Settings"}),(0,d.jsxs)("div",{className:"flex flex-col p-1.5 gap-1 text-xs",children:[c?.role=="Admin"&&(0,d.jsxs)("div",{className:"flex text-gray-500 hover:bg-gray-300 cursor-pointer justify-between items-center  p-1.5",children:[(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)(k.A,{})," SMS Notification"]}),(0,d.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,d.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:c?.smsNotification??!1,onChange:()=>{if(c?.id){let a=c.smsNotification?"turn off":"turn on";v.A.confirmationAlert("Are You Sure?",`You want to ${a} the SMS notification?`,()=>{e.mutate({id:c.id,smsNotification:!c.smsNotification})})}}}),(0,d.jsx)("div",{className:"relative w-11 h-6 bg-gray-200 rounded-full peer   dark:bg-gray-700 peer-focus:ring-4 peer-focus:ring-teal-300   dark:peer-focus:ring-teal-800 peer-checked:after:translate-x-full   rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white   after:content-[''] after:absolute after:top-0.5 after:start-[2px]   after:bg-white after:border-gray-300 after:border after:rounded-full   after:h-5 after:w-5 after:transition-all dark:border-gray-600   peer-checked:bg-teal-600 dark:peer-checked:bg-teal-600"})]})]}),c?.role==="Superadmin"&&(0,d.jsxs)("div",{className:" text-gray-500 hover:bg-gray-300 cursor-pointer flex items-center gap-3 p-1.5",onClick:()=>a("system-configuration"),children:[(0,d.jsx)(l.A,{})," System Configurations"]})]})]}),(0,d.jsx)("div",{className:"flex px-2 ",children:(0,d.jsx)("button",{onClick:()=>b(),className:"bg-[#E7E7E7] text-sm hover:bg-gray-300 cursor-pointer p-1 rounded-md w-full font-semibold",children:"Logout"})})]})};function y({closeActive:a}){let b=(0,u.useRouter)(),{data:c}=r(),{mutate:e}=(()=>{let a=(0,o.jE)();return(0,p.n)({mutationFn:async a=>(await q.A.put(`/request/read-notification/${a}`)).data,onSuccess:()=>{a.invalidateQueries({queryKey:["notifications"]})}})})(),{mutate:f}=(()=>{let a=(0,o.jE)();return(0,p.n)({mutationFn:async()=>(await q.A.put("/request/read-all-notification")).data,onSuccess:()=>{a.invalidateQueries({queryKey:["notifications"]})}})})();return(0,d.jsxs)("div",{className:"absolute z-11 flex flex-col  justify-between bg-white min-h-75 w-75 top-14 right-3 rounded-xl shadow-[0_0_17px_0_rgba(0,0,0,0.1)]  p-3.5",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-1 justify-between h-full",children:[(0,d.jsx)("h6",{className:"font-bold text-md",children:"Notification"}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("p",{className:"text-sm font-semibold",children:"Earlier"}),(0,d.jsx)("p",{className:"text-sm font-semibold text-[#32B695] cursor-pointer",onClick:()=>f(),children:"Mark all as read"})]}),(0,d.jsx)("div",{className:"flex flex-col  max-h-70 overflow-auto",children:c?.notifications?.map(c=>(0,d.jsxs)("div",{className:`${!1===c.read?"bg-gray-200":""} mb-0.5 flex gap-3 items-center p-1.5 rounded-md cursor-pointer hover:bg-gray-100 transition`,onClick:()=>{a?.(),!c.read&&e(c.id),b.push(`/request/monitoring?id=${c.mainRequestID}`)},children:[(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex justify-center items-center text-[#414342] font-bold text-sm",children:c.message.match(/"(.*?)"/)?.[1]?.[0]??"!"})}),(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"flex flex-col text-xs",children:[(0,d.jsx)("p",{className:"text-gray-800",children:t(c.message)}),(0,d.jsx)("p",{className:"text-[#32B695]",children:s(c.createdAt)})]})})]},c.id))})]}),(0,d.jsx)("div",{className:"flex px-2 ",children:(0,d.jsx)("button",{className:"bg-[#E7E7E7] text-sm p-2 rounded-md w-full font-semibold",children:"See previous  requests"})})]})}var z=c(94267),A=c(13492),B=c(3297),C=c(97062),D=c(81121),E=c(7418),F=c(63442),G=c(27605),H=c(35283),I=c(39117),J=c(9134),K=c(68540);function L({onClose:a,selectedData:b}){let c=!!b,[e,f]=(0,i.useState)(!1),[g,h]=(0,i.useState)(!1),[j,k]=(0,i.useState)(!1),{data:l}=(0,D.XU)(),{register:m,handleSubmit:n,reset:o,formState:{errors:p}}=(0,G.mN)({resolver:(0,F.u)(E.$B),defaultValues:{requestName:"",checkedById:null,checkedBy2Id:null,checkedBy3Id:null,checkedBy4Id:null,recomApprovalId:null,recomApproval2Id:null,approveById:null,approveBy2Id:null}}),{mutate:q,isPending:r}=(0,D.i4)(),{mutate:s,isPending:t}=(0,D.eB)(),u=(l??[]).filter(a=>a.approver).map(a=>({value:a.id,label:a.name??""}));return(0,d.jsxs)("form",{onSubmit:n(d=>{c&&b?.id?s({id:b.id,data:d},{onSuccess:()=>{(0,K.Te)({message:"Request type updated successfully!",position:"top-center"}),a()}}):q(d,{onSuccess:()=>{(0,K.Te)({message:"Request type added successfully!",position:"top-center"}),a()}})}),children:[(0,d.jsxs)("div",{className:"grid gap-3 mb-6 md:grid-cols-3",children:[(0,d.jsx)(H.Pd,{label:"Report Type",placeholder:"Enter report type",error:p.requestName,register:m("requestName"),type:"text"}),(0,d.jsxs)("div",{className:"flex flex-col col-span-2 justify-between",children:[(0,d.jsx)("label",{htmlFor:"",className:"block mb-2 text-sm font-medium text-gray-900",children:"Report Footer"}),(0,d.jsxs)("div",{className:"flex items-center  justify-between",children:[(0,d.jsxs)("div",{className:"flex gap-2 border border-gray-200 rounded-sm p-2",children:[(0,d.jsx)("input",{id:"isCheckedBy",type:"checkbox",value:"",name:"bordered-checkbox",onChange:a=>f(a.target.checked),className:" text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 ",checked:e}),(0,d.jsx)("label",{htmlFor:"isCheckedBy",className:"w-full  text-sm font-medium text-gray-900 ",children:"Checked By"})]}),(0,d.jsxs)("div",{className:"flex gap-2 border border-gray-200 rounded-sm p-2",children:[(0,d.jsx)("input",{id:"isCheckedRecomApproval",type:"checkbox",value:"",name:"bordered-checkbox",onChange:a=>h(a.target.checked),className:" text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 ",checked:g}),(0,d.jsx)("label",{htmlFor:"isCheckedRecomApproval",className:"w-full  text-sm font-medium text-gray-900 ",children:"Reccomending Approval"})]}),(0,d.jsxs)("div",{className:"flex gap-2 border border-gray-200 rounded-sm p-2",children:[(0,d.jsx)("input",{id:"isCheckedApprove",type:"checkbox",value:"",name:"bordered-checkbox",onChange:a=>k(a.target.checked),className:" text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 ",checked:j}),(0,d.jsx)("label",{htmlFor:"isCheckedApprove",className:"w-full  text-sm font-medium text-gray-900 ",children:"Approve By"})]})]})]}),e&&(0,d.jsxs)("div",{className:"flex flex-col gap-3 col-span-3",children:[(0,d.jsx)("label",{htmlFor:"bordered-checkbox-2",className:"w-full  text-sm font-medium text-gray-900 ",children:"Checked By"}),(0,d.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,d.jsx)(H.Ku,{error:p.checkedById,register:m("checkedById",{setValueAs:a=>""===a||null==a?null:Number(a)}),options:u,placeholder:"Select a person"}),(0,d.jsx)(H.Ku,{error:p.checkedBy2Id,register:m("checkedBy2Id",{setValueAs:a=>""===a||null==a?null:Number(a)}),options:u,placeholder:"Select checker by 2"}),(0,d.jsx)(H.Ku,{error:p.checkedBy3Id,register:m("checkedBy3Id",{setValueAs:a=>""===a||null==a?null:Number(a)}),options:u,placeholder:"Select checker by 3"}),(0,d.jsx)(H.Ku,{error:p.checkedBy4Id,register:m("checkedBy4Id",{setValueAs:a=>""===a||null==a?null:Number(a)}),options:u,placeholder:"Select checker by 4"})]})]}),g&&(0,d.jsxs)("div",{className:"flex flex-col gap-3 col-span-3",children:[(0,d.jsx)("label",{htmlFor:"bordered-checkbox-2",className:"w-full  text-sm font-medium text-gray-900 ",children:"Recommending Approval"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,d.jsx)(H.Ku,{error:p.recomApprovalId,register:m("recomApprovalId",{setValueAs:a=>""===a||null==a?null:Number(a)}),options:u,placeholder:"Select recommender by"}),(0,d.jsx)(H.Ku,{error:p.recomApproval2Id,register:m("recomApproval2Id",{setValueAs:a=>""===a||null==a?null:Number(a)}),options:u,placeholder:"Select recommender by 2"})]})]}),j&&(0,d.jsxs)("div",{className:"flex flex-col gap-3 col-span-3",children:[(0,d.jsx)("label",{htmlFor:"bordered-checkbox-2",className:"w-full  text-sm font-medium text-gray-900 ",children:"Approve By"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,d.jsx)(H.Ku,{error:p.approveById,register:m("approveById",{setValueAs:a=>""===a||null==a?null:Number(a)}),options:u,placeholder:"Select approver by"}),(0,d.jsx)(H.Ku,{error:p.approveById,register:m("approveBy2Id",{setValueAs:a=>""===a||null==a?null:Number(a)}),options:u,placeholder:"Select approver by 2"})]})]})]}),(0,d.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,d.jsx)(C.A,{label:c?"Update":"Submit",size:"md",type:"submit",icon:(0,d.jsx)(I.A,{}),disabled:r||t}),(0,d.jsx)(C.A,{label:"Close",size:"md",onClick:a,variant:"danger",icon:(0,d.jsx)(J.A,{})})]})]})}var M=c(46380),N=c(43323);let O=({onEdit:a,onDelete:b})=>(0,d.jsxs)("div",{className:"flex ",children:[(0,d.jsxs)("button",{className:"bg-blue-700 text-white font-semibold p-1 text-xs rounded-l-md hover:bg-blue-600  cursor-pointer",onClick:a,children:[(0,d.jsx)(M.A,{fontSize:"small"})," "]}),(0,d.jsx)("button",{className:"bg-red-700  text-white font-semibold p-1 text-xs rounded-r-md hover:bg-red-600   cursor-pointer",onClick:b,children:(0,d.jsx)(N.A,{fontSize:"small"})})]});function P(){let[a,b]=(0,i.useState)(!1),[c,e]=(0,i.useState)(null),f=()=>{b(!1),e(null)},{data:g,isLoading:h,isError:j,error:k}=(0,D.B6)(),l=g??[],{mutate:m}=(0,D.wl)();return(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)("h2",{className:"text-xl font-semibold",children:"Request Configuration"})}),(0,d.jsx)("div",{className:"flex",children:(0,d.jsx)(C.A,{label:"Add",size:"sm",icon:(0,d.jsx)(B.A,{}),onClick:()=>b(!0)})}),(0,d.jsx)("div",{className:"relative overflow-auto mt-2.5 max-w-235 max-h-100",children:(0,d.jsxs)("table",{className:"min-w-max text-xs text-left rtl:text-right text-gray-500 dark:text-gray-400 table-auto border-collapse",children:[(0,d.jsx)("thead",{className:"sticky top-0 z-10 bg-gray-100 text-xs text-gray-700 uppercase",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{scope:"col",className:"px-6 py-3 rounded-tl-xl",children:"Action"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Request Type"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Checked by"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Checked by 2"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Checked by 3"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Checked by 4"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Rec. Approval"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Rec. Approval 2"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Approved by"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3 rounded-tr-xl",children:"Approved2 by"})]})}),(0,d.jsxs)("tbody",{children:[h&&(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:8,className:"px-6 py-4 text-center",children:"Loading..."})}),j&&(0,d.jsx)("tr",{children:(0,d.jsxs)("td",{colSpan:8,className:"px-6 py-4 text-center",children:["Error: ",k?.message??"Failed to load"]})}),!h&&!j&&0===l.length&&(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:8,className:"px-6 py-4 text-center",children:"No request types found."})}),!h&&!j&&l.map(a=>(0,d.jsxs)("tr",{className:"bg-white border-b border-gray-200 hover:bg-gray-50",children:[(0,d.jsx)("td",{className:"px-6 py-1.5",children:(0,d.jsx)(O,{onEdit:()=>(a=>{console.log("Edit: ",a);let c={id:a.id,requestName:a.requestName,checkedById:a.checkedBy?.id??null,checkedBy2Id:a.checkedBy2?.id??null,checkedBy3Id:a.checkedBy3Id??null,checkedBy4Id:a.checkedBy4Id??null,recomApprovalId:a.recomApproval?.id??null,recomApproval2Id:a.recomApproval2?.id??null,approveById:a.approveBy?.id??null,approveBy2Id:a.approveBy2?.id??null,createdAt:a.createdAt,updateAt:a.updateAt},d=E.Au.safeParse(c);if(!d.success)return void console.error("Invalid data for edit:",d.error.format());e(d.data),b(!0)})(a),onDelete:()=>{v.A.confirmationAlert("Are you sure you want to delete this?","",()=>m(a.id,{onSuccess:()=>{(0,K.Te)({message:"Request Type Successfully Deleted!",position:"top-center"})}}))}})}),(0,d.jsx)("td",{className:"px-6 py-1.5",children:a.requestName}),(0,d.jsx)("td",{className:"px-6 py-1.5",children:a.checkedBy?.name??""}),(0,d.jsx)("td",{className:"px-6 py-1.5",children:a.checkedBy2?.name??""}),(0,d.jsx)("td",{className:"px-6 py-1.5",children:a.checkedBy3?.name??""}),(0,d.jsx)("td",{className:"px-6 py-1.5",children:a.checkedBy4?.name??""}),(0,d.jsx)("td",{className:"px-6 py-1.5",children:a.recomApproval?.name??""}),(0,d.jsx)("td",{className:"px-6 py-1.5",children:a.recomApproval2?.name??""}),(0,d.jsx)("td",{className:"px-6 py-1.5",children:a.approveBy?.name??""}),(0,d.jsx)("td",{className:"px-6 py-1.5",children:a.approveBy2?.name??""})]},a.id))]})]})}),a&&(0,d.jsx)(z.A,{size:"xl",nested:!0,title:"Add Request",onClose:f,children:(0,d.jsx)(L,{onClose:f,selectedData:c})})]})}var Q=c(33294);function R({onClose:a,selectedData:b}){let c=!!b,e=(0,i.useMemo)(()=>c?E.hT:E.a3,[c]),{register:f,handleSubmit:g,reset:h,control:j,formState:{errors:k,isSubmitting:l}}=(0,G.mN)({resolver:(0,F.u)(e),defaultValues:{branchCode:"EMB0000002"}}),{mutate:m,isPending:n}=(0,D.hr)(),{mutate:o,isPending:p}=(0,D.nl)(),{data:q=[]}=(0,D.XU)(),r=q.filter(a=>"Coordinator"===a.role).map(a=>({id:a.id??"",name:a.name??""})),s=q.filter(a=>"Branch"==a.role).map(a=>({id:a.id??"",name:a.name??""}));return(0,d.jsxs)("form",{onSubmit:g(d=>{c&&b?.id?o({id:b.id,data:d},{onSuccess:()=>{(0,K.Te)({message:"Branch updated successfully!",position:"top-center"}),a()}}):m(d,{onSuccess:()=>{(0,K.Te)({message:"Branch added successfully!",position:"top-center"}),a()}})}),children:[(0,d.jsxs)("div",{className:"grid gap-4 mb-6 md:grid-cols-12",children:[(0,d.jsx)("div",{className:"col-span-2",children:(0,d.jsx)(H.Pd,{label:"Branch Code",placeholder:"Enter branch code",error:k.branchCode,readonly:!0,register:f("branchCode"),type:"text"})}),(0,d.jsx)("div",{className:"col-span-7",children:(0,d.jsx)(H.Pd,{label:"Branch Name",placeholder:"Enter branch name",error:k.branchName,register:f("branchName"),type:"text"})}),(0,d.jsx)("div",{className:"col-span-3",children:(0,d.jsx)(H.Pd,{label:"Telephone",placeholder:"Enter telephone",error:k.telephone,type:"text",register:f("telephone")})}),(0,d.jsx)("div",{className:"col-span-7",children:(0,d.jsx)(H.Pd,{label:"Company Name",placeholder:"Enter telephone",error:k.companyName,type:"text",register:f("companyName")})}),(0,d.jsx)("div",{className:"col-span-5",children:(0,d.jsx)(G.xI,{name:"coordinatorId",control:j,render:({field:a,fieldState:b})=>(0,d.jsx)(Q.A,{data:r,label:"Coordinator",placeholder:"Select coordinator...",name:a.name,value:a.value,onChange:a.onChange,inputRef:a.ref,error:b.error})})}),(0,d.jsx)("div",{className:"col-span-5",children:(0,d.jsx)(G.xI,{name:"bfomId",control:j,render:({field:a,fieldState:b})=>(0,d.jsx)(Q.A,{data:s,label:"BFOM",placeholder:"Select BFOM...",name:a.name,value:a.value,onChange:a.onChange,inputRef:a.ref,error:b.error})})}),(0,d.jsx)("div",{className:"col-span-12",children:(0,d.jsx)(H.Pd,{label:"Address",placeholder:"Enter branch address",error:k.address,type:"text",register:f("address")})})]}),(0,d.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,d.jsx)(C.A,{label:c?"Update":"Submit",size:"md",type:"submit",icon:(0,d.jsx)(I.A,{}),disabled:l||n||p}),(0,d.jsx)(C.A,{label:"Close",size:"md",onClick:a,variant:"danger",icon:(0,d.jsx)(J.A,{})})]})]})}function S(){let[a,b]=(0,i.useState)(!1),[c,e]=(0,i.useState)(null),f=()=>{b(!1),e(null)},{mutate:g}=(0,D.TG)(),{data:h,isLoading:j}=(0,D.In)();return(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)("h2",{className:"text-xl font-semibold",children:"Branch Configuration"})}),(0,d.jsx)("div",{className:"flex",children:(0,d.jsx)(C.A,{label:"Add",size:"sm",icon:(0,d.jsx)(B.A,{}),onClick:()=>{b(!0),console.log("add")}})}),(0,d.jsx)("div",{className:"relative overflow-x-auto mt-2.5",children:(0,d.jsxs)("table",{className:"w-full text-xs text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[(0,d.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100 ",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{scope:"col",className:"px-6 py-3 rounded-tl-xl",children:"Action"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Branch Code"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Branch Name"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Coordinator"})]})}),(0,d.jsx)("tbody",{children:j?(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:5,children:"Loading..."})}):h?.map(a=>(0,d.jsxs)("tr",{className:"bg-white border-b border-gray-200 hover:bg-gray-50 cursor-pointer",children:[(0,d.jsx)("td",{className:"px-6 py-1.5",children:(0,d.jsx)(O,{onEdit:()=>{b(!0),e(a)},onDelete:()=>{v.A.confirmationAlert("Are you sure you want to delete this?","",()=>g(a.id,{onSuccess:()=>{(0,K.Te)({message:"Checker Successfully Deleted!",position:"top-center"})}}))}})}),(0,d.jsx)("td",{className:"px-6 py-1.5",children:a.branchCode}),(0,d.jsx)("td",{className:"px-6 py-1.5",children:a.branchName}),(0,d.jsx)("td",{className:"px-6 py-1.5",children:a.coordinator?.name})]},a.id))})]})}),a&&(0,d.jsx)(z.A,{size:"lg",nested:!0,title:"Add Branch",onClose:f,children:(0,d.jsx)(R,{onClose:f,selectedData:c})})]})}var T=c(22544),U=c(30474);function V({onClose:a,selectedData:b}){let[c,e]=(0,i.useState)(null),[f,g]=(0,i.useState)(null),h=!!b,j=(0,i.useMemo)(()=>h?T.q8:T.L3,[h]),{control:k,register:l,handleSubmit:m,reset:n,watch:o,formState:{errors:p,isSubmitting:q}}=(0,G.mN)({resolver:(0,F.u)(j),defaultValues:{name:"",email:"",username:"",password:"",role:"User",branchId:void 0,position:"",initial:"",phoneNumber:"",approver:!1}}),{mutate:r,isPending:s}=(0,D.aM)(),{mutate:t,isPending:u}=(0,D.Qc)(),{data:v=[]}=(0,D.In)(),w=v.map(a=>({id:a.id??"",name:a.branchName??""}));return(0,d.jsxs)("form",{onSubmit:m(c=>{if(h&&b?.id)t({id:b.id,data:c},{onSuccess:()=>{(0,K.Te)({message:"User updated successfully!",position:"top-center"}),a()}});else{let b=new FormData;Object.entries(c).forEach(([a,c])=>{null!=c&&b.append(a,String(c))}),f&&b.append("signature",f),r(b,{onSuccess:()=>{(0,K.Te)({message:"User added successfully!",position:"top-center"}),a()}})}}),children:[(0,d.jsxs)("div",{className:"grid gap-6 mb-6 grid-cols-6 md:grid-cols-12",children:[(0,d.jsx)("div",{className:"col-span-5",children:(0,d.jsx)(H.Pd,{label:"Name",placeholder:"Enter user full name",error:p.name,register:l("name"),type:"text"})}),(0,d.jsx)("div",{className:"col-span-4",children:(0,d.jsx)(H.Pd,{label:"Email",placeholder:"Enter email",error:p.email,register:l("email"),type:"text"})}),(0,d.jsx)("div",{className:"col-span-3",children:(0,d.jsx)(H.Ku,{label:"Role",placeholder:"Select Role",options:[{value:"Admin",label:"Admin"},{value:"User",label:"User"},{value:"Branch",label:"Branch"},{value:"Coordinator",label:"Coordinator"},{value:"Superadmin",label:"Superadmin"},{value:"System",label:"System"}],register:l("role"),error:p.role})}),"Branch"===o("role")&&(0,d.jsx)("div",{className:"col-span-4",children:(0,d.jsx)(G.xI,{name:"branchId",control:k,render:({field:a,fieldState:b})=>(0,d.jsx)(Q.A,{data:w,label:"Branch",placeholder:"Select branch...",name:a.name,value:a.value,onChange:a.onChange,inputRef:a.ref,error:b.error})})}),(0,d.jsx)("div",{className:"col-span-4",children:(0,d.jsx)(H.Pd,{label:"Position",placeholder:"Enter position",error:p.position,register:l("position"),type:"text"})}),(0,d.jsx)("div",{className:"col-span-4",children:(0,d.jsx)(H.Pd,{label:"Initial",placeholder:"Enter initial",error:p.initial,register:l("initial"),type:"text"})}),(0,d.jsx)("div",{className:"col-span-4",children:(0,d.jsx)(H.Pd,{label:"Phone Number",placeholder:"Enter phone number",error:p.phoneNumber,register:l("phoneNumber"),type:"text"})}),(0,d.jsx)("div",{className:"col-span-4",children:(0,d.jsx)(H.zD,{label:"User Types",placeholder:"Checker & Approver",error:p.approver,register:l("approver")})}),(0,d.jsx)("div",{className:"col-span-4",children:(0,d.jsx)(H.Pd,{label:"Username",placeholder:"Enter username",error:p.username,type:"text",register:l("username")})}),(0,d.jsx)("div",{className:"col-span-4",children:(0,d.jsx)(H.Pd,{label:"Password",placeholder:"Enter password",error:p.password,type:"password",register:l("password")})}),(0,d.jsx)("div",{className:"col-span-12",children:(0,d.jsxs)("div",{className:"flex items-center justify-center border-2 border-gray-300 h-30 relative overflow-hidden rounded-md",children:[(0,d.jsx)("input",{type:"file",accept:"image/png",onChange:a=>{let b=a.target.files?.[0];b&&"image/png"===b.type?(g(b),e(URL.createObjectURL(b))):alert("Only PNG allowed")},className:"absolute inset-0 opacity-0 cursor-pointer"}),c?(0,d.jsx)(U.default,{src:c,alt:"Preview",width:150,height:150}):(0,d.jsx)("p",{className:"text-gray-500 text-sm",children:"Click to upload e-signature"})]})})]}),(0,d.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,d.jsx)(C.A,{label:h?"Update":"Submit",size:"md",type:"submit",icon:(0,d.jsx)(I.A,{}),disabled:q||s||u}),(0,d.jsx)(C.A,{label:"Close",size:"md",onClick:a,variant:"danger",icon:(0,d.jsx)(J.A,{})})]})]})}function W(){let[a,b]=(0,i.useState)(!1),[c,e]=(0,i.useState)(null),f=()=>{b(!1),e(null)},{mutate:g}=(0,D.iY)(),{data:h,isLoading:j}=(0,D.XU)();return(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)("h2",{className:"text-xl font-semibold",children:"Account Configuration"})}),(0,d.jsx)("div",{className:"flex",children:(0,d.jsx)(C.A,{label:"Add",size:"sm",icon:(0,d.jsx)(B.A,{}),onClick:()=>{b(!0),console.log("add")}})}),(0,d.jsx)("div",{className:"relative max-h-80 overflow-auto mt-2.5",children:(0,d.jsxs)("table",{className:"w-full text-xs text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[(0,d.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100 ",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{scope:"col",className:"px-6 py-3 rounded-tl-xl",children:"Action"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Name"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Email"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Username"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Role"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3 rounded-tr-xl",children:"Branch Name"})]})}),(0,d.jsx)("tbody",{children:j?(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:5,children:"Loading..."})}):h?.map(a=>(0,d.jsxs)("tr",{className:"bg-white border-b border-gray-200 hover:bg-gray-50 cursor-pointer",children:[(0,d.jsx)("td",{className:"px-6 py-1.5",children:(0,d.jsx)(O,{onEdit:()=>{b(!0),e(a)},onDelete:()=>{v.A.confirmationAlert("Are you sure you want to delete this?","",()=>g(a.id,{onSuccess:()=>{(0,K.Te)({message:"User Successfully Deleted!",position:"top-center"})}}))}})}),(0,d.jsx)("td",{className:"px-6 py-1.5",children:a.name}),(0,d.jsx)("td",{className:"px-6 py-1.5",children:a.email}),(0,d.jsx)("td",{className:"px-6 py-1.5",children:a.username}),(0,d.jsx)("td",{className:"px-6 py-1.5",children:a.role}),(0,d.jsx)("td",{className:"px-6 py-1.5",children:a.branch?.branchName})]},a.id))})]})}),a&&(0,d.jsx)(z.A,{size:"lg",nested:!0,title:"Add Account",onClose:f,children:(0,d.jsx)(V,{onClose:f,selectedData:c})})]})}function X(){let a=[{label:"Request",icon:A.A,path:"request"},{label:"Branch",icon:A.A,path:"branch"},{label:"Account Manager",icon:h.A,path:"accounts"}],[b,c]=(0,i.useState)("request");return(0,d.jsxs)("div",{className:"flex w-full min-h-100",children:[(0,d.jsx)("div",{className:"flex  min-w-60  border-r-2 border-gray-200",children:(0,d.jsx)("div",{className:"flex flex-col w-full pr-3",children:a.map(({label:a,icon:e,path:f})=>{let g=b===f;return(0,d.jsxs)("div",{className:`flex p-3   text-md items-center gap-3 font-semibold w-full rounded-r-full cursor-pointer
                                        ${g?"bg-green-200":" "}
                                    `,onClick:()=>{c(f)},children:[(0,d.jsx)(e,{}),(0,d.jsxs)("p",{children:[" ",a]})]},a)})})}),(0,d.jsxs)("div",{className:"flex flex-col w-full px-3",children:["request"==b&&(0,d.jsx)(P,{}),"branch"==b&&(0,d.jsx)(S,{}),"accounts"==b&&(0,d.jsx)(W,{})]})]})}function Y(){let a={fontSize:"1rem"},[b,c]=(0,i.useState)(""),e="bg-green-100 text-green-800",j="bg-[#F2F7F4] text-[#414342] hover:bg-gray-200 ",k=(0,i.useRef)(null),[l,m]=(0,i.useState)(""),{data:n}=r(),o=a=>{c(b=>b===a?"":a)};return(0,d.jsxs)("div",{ref:k,className:"flex justify-end w-full",children:[(0,d.jsxs)("div",{className:"flex gap-4 ",children:[(0,d.jsx)("div",{className:`w-7 h-7 ${"logs"==b?e:j}  rounded-full flex justify-center items-center cursor-pointer `,onClick:()=>o("logs"),children:(0,d.jsx)(f.A,{style:a})}),(0,d.jsxs)("div",{className:`w-7 h-7 ${"notification"==b?e:j}  rounded-full flex justify-center items-center cursor-pointer relative`,onClick:()=>o("notification"),children:[(0,d.jsx)(g.A,{style:a}),n?.unreadCount!==0&&(0,d.jsx)("div",{className:"absolute right-[-0.3rem] top-[-0.4rem]  w-4 h-4 bg-[#DD3232]  rounded-full flex justify-center items-center text-[0.6rem] font-semibold   text-[#ffffff]",children:n?.unreadCount})]}),(0,d.jsx)("div",{className:`w-7 h-7 ${"profile"==b?e:j} rounded-full flex justify-center items-center cursor-pointer `,onClick:()=>o("profile"),children:(0,d.jsx)(h.A,{style:a})})]}),"logs"==b&&(0,d.jsx)(w,{}),"notification"==b&&(0,d.jsx)(y,{closeActive:()=>{console.log("close"),c("")}}),"profile"==b&&(0,d.jsx)(x,{handleClickModal:a=>{c(""),m(a)}}),"system-configuration"==l&&(0,d.jsx)(z.A,{size:"xxxl",onClose:()=>{m("")},title:"System Configuration",disableEscClose:!0,children:(0,d.jsx)(X,{})})]})}var Z=c(51730),$=c(18169),_=c(9415),aa=c(66056);let ab=[{label:"Dashboard",icon:Z.A,path:"/request"},{label:"Submit Request",icon:$.A,path:"/request/submit-request"},{label:"Approval",icon:_.A,path:"/request/approval"},{label:"Monitoring",icon:aa.A,path:"/request/monitoring"}];function ac({onSelect:a}){let{data:b}=(0,j.rA)(),c=(0,u.useRouter)(),e=(0,u.usePathname)(),f=ab.filter(a=>("Approval"!==a.label||b?.role!=="Branch")&&("Submit Request"!==a.label||b?.role!=="Admin")&&("Submit Request"!==a.label||b?.role!=="Coordinator"));return(0,d.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,d.jsx)("div",{className:"text-[#A1A1A1] text-sm pb-1",children:"Menu"}),f.map(({label:b,icon:f,path:g})=>{let h=e===g,i=`
          text-xs flex gap-2 items-center p-1.5 cursor-pointer rounded-sm justify-center sm:justify-start
          ${h?"bg-[#32B695] text-white font-semibold":"text-[#7A7979] hover:bg-[#CCF8DD]"}
        `;return(0,d.jsxs)("div",{className:i,onClick:()=>{c.push(g),a?.()},children:[(0,d.jsx)(f,{className:h?"text-white":"text-[#7A7979]",style:{fontSize:"1.4rem"}}),(0,d.jsx)("p",{className:"hidden sm:block",children:b})]},b)})]})}var ad=c(7005);function ae({user:a}){return(0,o.jE)(),null}c.n(ad)()(process.env.NEXT_PUBLIC_LOCAL_APP_URL,{transports:["websocket"],withCredentials:!0,reconnection:!0,reconnectionAttempts:1/0,reconnectionDelay:2e3});var af=c(51108),ag=c(6519);function ah({children:a}){let{user:b}=(0,af.A)(),[c,f]=(0,i.useState)(!1),[g,h]=(0,i.useState)(!0);return(0,d.jsxs)("div",{className:"flex py-2 h-screen px-4 gap-2",children:[(0,d.jsx)(e.l$,{position:"bottom-right",reverseOrder:!1}),(0,d.jsx)(ae,{user:b}),(0,d.jsx)("div",{className:`
          transition-all duration-300 overflow-hidden
          ${c?g?"absolute z-20 h-full w-20":"absolute z-20 h-full w-0":g?"w-50":"w-0"}
        `,children:(0,d.jsxs)("div",{className:`${c?"mt-[4.2rem]":""} flex flex-col bg-white p-3 rounded-lg border border-[#ECECEC] h-full`,children:[(0,d.jsxs)("div",{className:"flex justify-between p-3",children:[!c&&g&&(0,d.jsx)("div",{className:"hidden sm:block",children:(0,d.jsx)(U.default,{src:"/RMSLogo.png",alt:"Rejected",width:140,height:120})}),c&&g&&(0,d.jsx)("div",{className:"block sm:hidden",children:(0,d.jsx)(U.default,{src:"/RMSMiniLogo.png",alt:"RMSLogo",width:150,height:150})})]}),(0,d.jsx)(ac,{collapsed:!g&&!c,onSelect:()=>{c&&h(!1)}})]})}),(0,d.jsxs)("div",{className:"flex flex-col flex-1 transition-all duration-300",children:[(0,d.jsxs)("div",{className:"flex relative justify-between bg-white rounded-lg border border-[#ECECEC] py-4 px-8 h-13 items-center",children:[c?(0,d.jsx)("div",{className:"absolute top--5 left-4 z-30 text-[#414342] cursor-pointer bg-white rounded-md p-1 shadow",onClick:()=>h(!g),children:(0,d.jsx)(ag.A,{})}):(0,d.jsx)("div",{className:"text-[#414342] cursor-pointer mr-2",onClick:()=>h(!g),children:(0,d.jsx)(ag.A,{})}),(0,d.jsx)(Y,{})]}),(0,d.jsx)("div",{className:"h-full flex flex-col overflow-auto",children:a})]})]})}},58014:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>h,metadata:()=>g});var d=c(37413);c(82704);var e=c(78972),f=c(94442);let g={title:"Create Next App",description:"Generated by create next app"};function h({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:"font-sans bg-gray-100 text-gray-900",children:(0,d.jsx)(f.AuthProvider,{children:(0,d.jsx)(e.default,{children:a})})})})}},59556:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=c(41858).A.create({baseURL:`${process.env.NEXT_PUBLIC_APP_URL}/api`,withCredentials:!0})},68540:(a,b,c)=>{"use strict";c.d(b,{Qg:()=>f,Te:()=>e});var d=c(37590);let e=({message:a,position:b="bottom-right",duration:c=2e3})=>d.oR.success(a,{position:b,duration:c}),f=({message:a,position:b="bottom-right"})=>d.oR.error(a,{position:b})},70777:(a,b,c)=>{"use strict";c.d(b,{F9:()=>h,O6:()=>f,ST:()=>i,bQ:()=>g,ys:()=>e});var d=c(59556);async function e(a,b){return(await d.A.post(a,b)).data}async function f(a,b){return(await d.A.put(a,b)).data}async function g(a,b){return(await d.A.get(a,{params:b})).data}async function h(a,b){return(await d.A.get(a,{params:b})).data}async function i(a,b){return(await d.A.delete(`${a}/${b}`)).data}},72932:(a,b,c)=>{Promise.resolve().then(c.bind(c,78972)),Promise.resolve().then(c.bind(c,94442))},75960:(a,b,c)=>{Promise.resolve().then(c.bind(c,42588))},76632:(a,b,c)=>{Promise.resolve().then(c.bind(c,54654))},78972:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/app/app/providers.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/app/providers.tsx","default")},79284:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(77567);let e={successAlert:(a="Success",b="")=>d.A.fire({title:a,text:b,icon:"success",confirmButtonText:"OK",confirmButtonColor:"#3085d6"}),successAlertFunction:(a="Success",b="",c,e)=>d.A.fire({title:a,text:b,icon:"success",confirmButtonText:"OK",confirmButtonColor:"#3085d6"}).then(a=>{(a.isConfirmed&&"function"==typeof c||a.isDismissed)&&(c(),e())}),warningAlert:(a="Warning",b="")=>d.A.fire({title:a,text:b,icon:"warning",showCancelButton:!0,confirmButtonText:"OK",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}),errorAlert:(a="Error",b="")=>d.A.fire({title:a,text:b,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#d33"}),confirmationAlert:(a="Are you sure?",b="",c)=>d.A.fire({title:a,html:b,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then(a=>{a.isConfirmed&&"function"==typeof c&&c()})}},80548:(a,b,c)=>{Promise.resolve().then(c.bind(c,8402)),Promise.resolve().then(c.bind(c,51108))},81121:(a,b,c)=>{"use strict";c.d(b,{hr:()=>k,Pm:()=>z,i4:()=>p,aM:()=>u,TG:()=>m,wl:()=>s,iY:()=>x,In:()=>n,GS:()=>A,B6:()=>q,XU:()=>w,nl:()=>l,eB:()=>r,Qc:()=>v});var d=c(59556),e=c(33985),f=c(70777),g=c(8693),h=c(54050),i=c(51423);let j=["branches"],k=()=>(0,e.as)({mutationFn:a=>(0,f.ys)("/request/add-branch",a),queryKey:j}),l=()=>(0,e.as)({mutationFn:({id:a,data:b})=>(0,f.O6)(`/request/update-branch/${a}`,b),queryKey:["branches"]}),m=()=>(0,e.a6)({baseUrl:"/request/delete-branch",invalidateKeys:[j]}),n=()=>(0,e.j)({queryKey:j,queryFn:()=>(0,f.bQ)("/request/fetch-branch")}),o=["request-type"],p=()=>(0,e.as)({mutationFn:a=>(0,f.ys)("/request/add-request-type",a),queryKey:o}),q=()=>(0,e.j)({queryKey:o,queryFn:async()=>{let a=await (0,f.bQ)("/request/list-request-type");return Array.isArray(a.data)?a.data:[]}}),r=()=>(0,e.as)({mutationFn:({id:a,data:b})=>(0,f.O6)(`/request/update-request/${a}`,b),queryKey:["request-type"]}),s=()=>(0,e.a6)({baseUrl:"/request/delete-request-type",invalidateKeys:[o]}),t=["users"],u=()=>{let a=(0,g.jE)();return(0,h.n)({mutationFn:async a=>(await d.A.post("/register",a,{headers:{"Content-Type":"multipart/form-data"}})).data,onSuccess:()=>{a.invalidateQueries({queryKey:["users"]})}})},v=()=>(0,e.as)({mutationFn:({id:a,data:b})=>(0,f.O6)(`/request/update-user/${a}`,b),queryKey:["users"]}),w=()=>(0,e.j)({queryKey:t,queryFn:()=>(0,f.bQ)("/users")}),x=()=>(0,e.a6)({baseUrl:"/request/delete-user",invalidateKeys:[t]}),y=["approvals"],z=()=>(0,e.as)({mutationFn:a=>(0,f.ys)("/request/add-fund-transfer",a),queryKey:y}),A=()=>(0,i.I)({queryKey:["coordinatorReport"],queryFn:async()=>(await d.A.get("/request/fetch-coordinator-report")).data})},82704:()=>{},93549:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,25227,23)),Promise.resolve().then(c.t.bind(c,86346,23)),Promise.resolve().then(c.t.bind(c,27924,23)),Promise.resolve().then(c.t.bind(c,40099,23)),Promise.resolve().then(c.t.bind(c,38243,23)),Promise.resolve().then(c.t.bind(c,28827,23)),Promise.resolve().then(c.t.bind(c,62763,23)),Promise.resolve().then(c.t.bind(c,97173,23)),Promise.resolve().then(c.bind(c,25587))},94267:(a,b,c)=>{"use strict";c.d(b,{A:()=>f});var d=c(60687);c(43210);let e={xs:"w-[350px]",sm:"w-[500px]",md:"w-[650px]",lg:"w-[800px]",xl:"w-[950px]",xxl:"w-[1100px]",xxxl:"w-[1250px]"};function f({size:a,nested:b=!1,onClose:c,title:f,children:g,disableEscClose:h}){return(0,d.jsx)("div",{className:`fixed inset-0 z-50 flex items-center justify-center ${b?"bg-[#2a272785]":"bg-[#11060685]"}`,children:(0,d.jsxs)("div",{className:`bg-white rounded-xl shadow-lg  relative ${e[a]} max-h-160`,children:[(c||f)&&(0,d.jsxs)("div",{className:"flex justify-between items-center px-6 py-3 border-b border-gray-200 ",children:[f&&(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-700",children:f}),c&&(0,d.jsx)("button",{onClick:c,className:"text-3xl  font-bold rounded-full w-10 h-10 hover:bg-gray-300  text-gray-600  cursor-pointer",children:"\xd7"})]}),(0,d.jsx)("div",{className:"text-sm text-gray-700 mt-2 px-6 py-2",children:g})]})})}},94442:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>e});var d=c(61369);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/contexts/AuthContext.tsx","AuthProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/contexts/AuthContext.tsx","useAuth")},97062:(a,b,c)=>{"use strict";c.d(b,{A:()=>f});var d=c(60687),e=c(49384);function f({type:a="button",label:b,variant:c="success",size:f="md",icon:g,className:h,...i}){let j={xs:"px-2 py-1 text-[0.6rem]",sm:"px-3 py-1 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-3 text-base"},k=!!g&&!b;return(0,d.jsxs)("button",{type:a,className:(0,e.A)("inline-flex items-center justify-center rounded-md font-medium cursor-pointer transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",j[f],{success:"bg-[#32B695] text-white hover:bg-green-600",info:"bg-blue-500 text-white hover:bg-blue-600",danger:"bg-red-500 text-white hover:bg-red-600",secondary:"bg-gray-100 text-black hover:bg-gray-200"}[c],k?({xs:"p-1",sm:"p-1.5",md:"p-2",lg:"p-3"})[f]:j[f],h),...i,children:[g&&(0,d.jsx)("span",{className:(0,e.A)(b?"mr-2":""),children:g}),b]})}}};