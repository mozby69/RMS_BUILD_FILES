(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[135],{8424:(e,l,s)=>{Promise.resolve().then(s.bind(s,72267))},72267:(e,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>M});var t=s(95155),r=s(12115);let n=(0,s(28322).A)((0,t.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var a=s(35695),i=s(4236),o=s(24771),d=s(93709),c=s(16304),u=s(99472);function x(e){let{label:l,type:s}=e;return(0,t.jsx)("div",{children:(0,t.jsx)("button",{className:"".concat((e=>{switch(e){case"success":return"bg-green-600";case"warning":return"bg-yellow-500";case"danger":return"bg-red-600";default:return"bg-gray-400"}})(s)," text-white p-1 px-4 font-bold rounded-sm text-xs"),children:l})})}var h=s(92523),m=s(45084),g=s(48725),p=s(50807);let v=r.forwardRef(function(e,l){let{title:s,titleId:t,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},n),s?r.createElement("title",{id:t},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}),j=r.forwardRef(function(e,l){let{title:s,titleId:t,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},n),s?r.createElement("title",{id:t},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))});function b(e){var l,s;let{mainRequest:n}=e,a=(0,r.useRef)(null),i=(0,r.useRef)([]),o=(null!=(l=null==n?void 0:n.approval)?l:[]).sort((e,l)=>e.sequence-l.sequence),d=null!=(s=null==n?void 0:n.logs)?s:[],c=[{id:0,sequence:1,approverId:0,label:"Submit Request",logDate:d.length>0?d[0].createdAt:null,logStatus:"SUBMITTED",isActive:!1},...o.map((e,l)=>{var s,t;let r=d.find(l=>l.approverId===e.approverId),n=l===o.length-1;return{...e,label:n?"Final Approver (".concat(e.approver.name,")"):"Approver #".concat(e.sequence," (").concat(e.approver.name,")"),logDate:null!=(s=null==r?void 0:r.createdAt)?s:null,logStatus:null!=(t=null==r?void 0:r.action)?t:e.status}})],u=c.findIndex(e=>e.isActive);(0,r.useEffect)(()=>{if(-1!==u&&i.current[u]){var e;null==(e=i.current[u])||e.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[u]);let x=e=>{if(a.current){let{clientWidth:l}=a.current;a.current.scrollBy({left:"left"===e?-l/2:l/2,behavior:"smooth"})}};return(0,t.jsxs)("div",{className:"relative w-full ",children:[(0,t.jsx)("button",{"aria-label":"Scroll left",onClick:()=>x("left"),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white shadow-md rounded-full p-1 hover:bg-gray-100",children:(0,t.jsx)(v,{className:"w-5 h-5"})}),(0,t.jsx)("div",{ref:a,className:"flex items-center space-x-4 overflow-x-hidden w-full max-w-[35rem] mx-auto px-8 py-2",children:c.map((e,l)=>{let s="REJECTED"===e.logStatus,r="APPROVED"===e.logStatus||"SUBMITTED"===e.logStatus,n=e.isActive&&!s,a=l===c.length-1;return(0,t.jsxs)("div",{ref:e=>{i.current[l]=e},className:"flex items-center space-x-2",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[s?(0,t.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold border-2 bg-red-400 border-red-300 text-white",children:"X"}):(0,t.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold\n                      ".concat(r?"bg-[#0FC497] text-white":n?"border-2 border-yellow-600 text-yellow-700":"border-2 border-gray-300 text-gray-400"),children:r?"✓":e.sequence}),(0,t.jsx)("div",{className:"text-[9px] text-center mt-1 font-medium ".concat(s?"text-red-400":""),children:e.label}),e.logDate&&(0,t.jsx)("div",{className:"text-[8px] ".concat(s?"text-red-400":"text-gray-400"),children:new Date(e.logDate).toLocaleDateString()})]}),!a&&(0,t.jsx)("div",{className:"w-14 h-0.5 ".concat(r?"bg-[#2acda4]":n?"bg-gray-300":"bg-gray-200")})]},l)})}),(0,t.jsx)("button",{"aria-label":"Scroll right",onClick:()=>x("right"),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white shadow-md rounded-full p-1 hover:bg-gray-100",children:(0,t.jsx)(j,{className:"w-5 h-5"})})]})}var f=s(50228),y=s(60152),N=s(96775),E=s(80724),w=s(18486),q=s(54384),C=s(59284),A=s(88933),R=s(28661),S=s(76844),D=s(72022),T=s(38849),k=s(581),I=s(5573),P=s(8011),z=s(74420),F=s(14271);function O(e){var l,s,n,a,d,v,j,O;let{mainRequest:L}=e,[B,M]=(0,r.useState)(!1),[V,U]=(0,r.useState)(!1),J=(0,o.M)(),[G,W]=(0,r.useState)(!1),[_,Q]=(0,r.useState)(""),{data:X}=(0,i.rA)(),[K,Y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=()=>{Y(window.innerWidth<640)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let $=()=>{M(!1)},H=(null!=(s=null==L?void 0:L.logs)?s:[]).find(e=>e.approverId===(null==X?void 0:X.id));(0,r.useEffect)(()=>{(null==H?void 0:H.action)==="APPROVED"||(null==H?void 0:H.action)==="Submit Request"||(null==L?void 0:L.status)==="REJECTED"||(null==L?void 0:L.status)==="APPROVED"?W(!0):W(!1)},[H,L]);let Z=(null==L?void 0:L.status)==="APPROVED"?"success":(null==L?void 0:L.status)==="REJECTED"?"danger":(null==L?void 0:L.status)==="PENDING"?"warning":"default",ee=null!=(n=null==L?void 0:L.status)?n:"UNKNOWN";return(0,t.jsxs)("div",{className:"flex flex-col max-w-100 justify-between p-2.5  border border-[#D5D5D5] gap-3 rounded-md",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("p",{className:"text-md font-bold text-black leading-tight",children:null==L?void 0:L.requestType.requestName}),(0,t.jsx)("p",{className:"text-sm text-gray-500 font-bold",children:null!=(a=null==L?void 0:L.referenceCode)?a:""})]}),(0,t.jsx)("div",{children:(0,t.jsx)(x,{type:Z,label:ee})})]}),(0,t.jsx)(b,{mainRequest:L}),(0,t.jsxs)("div",{className:" flex flex-col border border-gray-300 w-full min-h-50 cursor-pointer rounded-md gap-2 p-2 pb-5 ",children:[(0,t.jsxs)("div",{className:" flex justify-start flex-col bg-white w-full h-full hover:bg-gray-100 p-4 gap-2",children:[(0,t.jsx)("h1",{className:"text-lg font-bold text-black leading-tight text-center",children:"REQUEST DETAILS"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("label",{htmlFor:"",children:"Branch : "}),(0,t.jsx)("h5",{className:"font-bold",children:null!=(d=null==L?void 0:L.requestFrom.branchName)?d:""})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("label",{htmlFor:"",children:"Date : "}),(0,t.jsx)("h5",{className:"font-bold",children:(0,t.jsx)(u.XU,{value:null==L?void 0:L.requestDate})})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("label",{htmlFor:"",children:"Requested By : "}),(0,t.jsx)("h5",{className:"font-bold",children:null!=(v=null==L?void 0:L.requestBy.name)?v:""})]}),(null==L?void 0:L.requestType.id)===1&&(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("label",{htmlFor:"",children:"To : "}),(0,t.jsx)("h5",{className:"font-bold",children:null!=(j=null==L||null==(l=L.fundTransfer.requestTo)?void 0:l.name)?j:""})]}),(null==H?void 0:H.action)!=="Submit Request"&&(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("label",{htmlFor:"",children:"Action : "}),(0,t.jsx)("h5",{className:"font-bold",children:(null==H?void 0:H.action)?H.action:"PENDING"})]}),(null==L?void 0:L.status)==="REJECTED"&&(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("label",{htmlFor:"",children:"Remarks: "}),(0,t.jsx)("p",{className:"text-center text-red-600",children:null!=(O=L.remarks)?O:""})]})]}),(0,t.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,t.jsx)(c.A,{label:"View",variant:"info",size:"xs",icon:(0,t.jsx)(m.A,{fontSize:"small"}),onClick:()=>void M(!0)}),(0,t.jsx)(c.A,{label:"Approve",variant:"success",disabled:G,size:"xs",icon:(0,t.jsx)(g.A,{fontSize:"small"}),onClick:()=>void(L&&f.A.confirmationAlert("Are you sure?","You want to approve this <b><u>"+(null==L?void 0:L.requestType.requestName)+"</u></b> request submitted by <b>"+L.requestBy.name+"</b>?",()=>{J.mutate({id:L.id,action:"APPROVED",remarks:_},{onSuccess:()=>{(0,y.Te)({message:"Request approved!",position:"top-center"})},onError:e=>{console.error("Error approving:",e),(0,y.Qg)({message:"Failed to approve request",position:"top-center"})}})}))}),(0,t.jsx)(c.A,{label:"Reject",variant:"danger",size:"xs",disabled:G,icon:(0,t.jsx)(p.A,{fontSize:"small"}),onClick:()=>U(!0)})]})]})]}),B&&(null==L?void 0:L.requestTypeId)===1&&(0,t.jsx)(h.A,{size:"xl",title:"Fund Transfer Details",onClose:$,children:(0,t.jsx)(N.A,{mainRequest:L,onClose:$})}),(B&&(null==L?void 0:L.requestTypeId)===2||B&&(null==L?void 0:L.requestTypeId)===38||B&&(null==L?void 0:L.requestTypeId)===39)&&(0,t.jsx)(h.A,{size:K?"xs":"lg",title:"Travel Order Details",onClose:$,children:(0,t.jsx)(C.j,{mainRequest:L,onClose:$})}),B&&(null==L?void 0:L.requestTypeId)===3&&(0,t.jsx)(h.A,{size:K?"xs":"xxl",title:"Proposed Budget Details",onClose:$,children:(0,t.jsx)(A.k,{mainRequest:L,onClose:$})}),B&&(null==L?void 0:L.requestTypeId)===4&&(0,t.jsx)(h.A,{size:K?"xs":"lg",title:"Transmittal Memo Details",onClose:$,children:(0,t.jsx)(R.g,{mainRequest:L,onClose:$})}),B&&((null==L?void 0:L.requestTypeId)===5||(null==L?void 0:L.requestTypeId)===6)&&(0,t.jsx)(h.A,{size:"lg",nested:!0,title:"Cash Count Sheet",onClose:$,children:(0,t.jsx)(w.A,{onClose:$,mainRequest:L})}),B&&(null==L?void 0:L.requestTypeId)===7&&(0,t.jsx)(h.A,{size:K?"xs":"xl",title:"OS Requisition Details",onClose:$,children:(0,t.jsx)(q.r,{mainRequest:L,onClose:$})}),B&&(null==L?void 0:L.requestTypeId)===8&&(0,t.jsx)(h.A,{size:K?"xs":"xl",title:"OS Purchasing Details",onClose:$,children:(0,t.jsx)(F.Q,{mainRequest:L,onClose:$})}),B&&(null==L?void 0:L.requestTypeId)===9&&(0,t.jsx)(h.A,{size:K?"xs":"lg",title:"Pre-Sign Details",onClose:$,children:(0,t.jsx)(S.$,{mainRequest:L,onClose:$})}),B&&(null==L?void 0:L.requestTypeId)===10&&(0,t.jsx)(h.A,{size:K?"xs":"lg",title:"Past Due Endorsement Details",onClose:$,children:(0,t.jsx)(D.h,{mainRequest:L,onClose:$})}),B&&(null==L?void 0:L.requestTypeId)!==void 0&&[11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33].includes(null==L?void 0:L.requestTypeId)&&(0,t.jsx)(h.A,{size:"lg",nested:!0,title:L.requestType.requestName,onClose:$,children:(0,t.jsx)(E.A,{onClose:$,mainRequest:L})}),B&&(null==L?void 0:L.requestTypeId)===34&&(0,t.jsx)(h.A,{size:K?"xs":"xl",title:"FSM Travel Liquidation Details",onClose:$,children:(0,t.jsx)(T.I,{mainRequest:L,onClose:$})}),B&&(null==L?void 0:L.requestTypeId)===35&&(0,t.jsx)(h.A,{size:K?"xs":"xl",title:"Weekly Itinerary Deviation",onClose:$,children:(0,t.jsx)(k.y,{mainRequest:L,onClose:$})}),B&&(null==L?void 0:L.requestTypeId)===36&&(0,t.jsx)(h.A,{size:K?"xs":"xl",title:"FSM Itinerary Details",onClose:$,children:(0,t.jsx)(I.e,{mainRequest:L,onClose:$})}),B&&(null==L?void 0:L.requestTypeId)===37&&(0,t.jsx)(h.A,{size:K?"xs":"xl",title:"Travel Order Liquidation Details",onClose:$,children:(0,t.jsx)(P.q,{mainRequest:L,onClose:$})}),B&&(null==L?void 0:L.requestTypeId)===38&&(0,t.jsx)(h.A,{size:K?"xs":"xl",title:"OS Purchasing Details",onClose:$,children:(0,t.jsx)(z.F,{mainRequest:L,onClose:$})}),V&&(0,t.jsx)(h.A,{size:"md",title:"Reject Remarks",onClose:()=>U(!1),children:(0,t.jsxs)("div",{className:"flex flex-col gap-2 flex-1",children:[(0,t.jsx)("label",{className:"font-semibold text-[#333333]",htmlFor:String(name),children:"Remarks"}),(0,t.jsx)("textarea",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg   focus:outline-none  block w-full p-2.5  focus:ring-2 focus:ring-green-500 focus:border-green-500 min-h-40 ",placeholder:"Enter reject remarks",onChange:e=>Q(e.target.value)}),(0,t.jsx)("div",{className:"flex justify-end gap-2",children:(0,t.jsx)(c.A,{label:"Reject",variant:"danger",size:"xs",disabled:G,icon:(0,t.jsx)(p.A,{fontSize:"small"}),onClick:()=>void(L&&f.A.confirmationAlert("Are you sure?","You want to reject this <b><u>"+(null==L?void 0:L.requestType.requestName)+"</u></b> request submitted by <b>"+L.requestBy.name+"</b>?",()=>{J.mutate({id:L.id,action:"REJECTED",remarks:_},{onSuccess:()=>{U(!1),Q(""),(0,y.Te)({message:"Request rejected!",position:"top-center"})},onError:e=>{console.error("Error approving:",e),(0,y.Qg)({message:"Failed to reject request",position:"top-center"})}})}))})})]})})]})}function L(){let{data:e}=(0,d.GS)();return console.log("Coordinator",e),(0,t.jsx)("h1",{children:"dwad"})}function B(){var e;let[l,s]=(0,r.useState)(null),[m]=(0,r.useState)("ALL"),[g,p]=(0,r.useState)(1),[v,j]=(0,r.useState)(""),[b,f]=(0,r.useState)(void 0),[y,N]=(0,r.useState)(""),[E,w]=(0,r.useState)(void 0),[q,C]=(0,r.useState)(void 0),[A,R]=(0,r.useState)(!1),S=(0,a.useSearchParams)().get("id"),D=S?parseInt(S,10):void 0,T=(0,a.useRouter)(),{data:k}=(0,i.rA)(),{data:I,isFetching:P}=(0,o.j)(m,g,10,D,y,b,E,q),{pagination:z={page:1,pageSize:10,totalPages:0,total:0}}=null!=I?I:{},[F,B]=(0,r.useState)(!1),[M,V]=(0,r.useState)(!1),[U,J]=(0,r.useState)("main"),{data:G}=(0,d.GS)(),W="main"===U?null!=(e=null==I?void 0:I.data)?e:[]:null!=G?G:[];(0,r.useEffect)(()=>{let e=()=>{V(window.innerWidth<640)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{var e;let l=null!=(e=null==I?void 0:I.data)?e:[];if(D){let e=l.find(e=>e.id===D);s(null!=e?e:null)}else l.length>0?s(l[0]):s(null)},[I,D]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{N(v)},500);return()=>{clearTimeout(e)}},[v]);let{data:_=[]}=(0,d.In)(),Q=e=>{s(e),B(!0)};return(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("div",{className:"py-4 px-2",children:(0,t.jsx)("h1",{className:"text-xl font-bold text-black",children:"Request Submission Monitoring"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 p-4 bg-white w-full  rounded-lg border border-[#ECECEC]  justify-start align-center",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"font-bold tracking-widest text-gray-400 ",children:"Filter"}),(null==k?void 0:k.role)==="Coordinator"&&(0,t.jsx)("div",{children:(0,t.jsx)(c.A,{onClick:()=>void J(e=>"main"===e?"coordinator":"main"),label:"main"===U?"Daily Monitoring Report":"Back to main monitoring"})})]}),(0,t.jsxs)("div",{className:"flex flex-wrap-reverse gap-x-2 gap-y-2 items-center",children:[(0,t.jsxs)("div",{className:"flex gap-3 items-center",children:[D&&(0,t.jsx)("div",{className:"",children:(0,t.jsx)(c.A,{label:"See all",onClick:()=>{T.push("monitoring")}})}),(0,t.jsx)("div",{children:(0,t.jsxs)("select",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:outline-none block w-full p-2",value:null!=q?q:"",onChange:e=>C(e.target.value||void 0),children:[(0,t.jsx)("option",{value:"",children:"Select Status"}),(0,t.jsx)("option",{value:"PENDING",children:"PENDING"}),(0,t.jsx)("option",{value:"APPROVED",children:"APPROVED"}),(0,t.jsx)("option",{value:"REJECTED",children:"REJECTED"})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("select",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg   focus:outline-none  block w-full p-2 ",value:null!=b?b:"",onChange:e=>f(e.target.value?parseInt(e.target.value,10):void 0),children:[(0,t.jsx)("option",{value:"",children:"Select Branch"}),_.map(e=>(0,t.jsx)("option",{value:e.id,children:e.branchName},e.id))]})}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"date",value:null!=E?E:"",onChange:e=>w(e.target.value||void 0),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg   focus:outline-none  block w-full p-2"})})]}),(0,t.jsx)("div",{className:"flex flex-1 min-w-72 ",children:(0,t.jsxs)("div",{className:"relative  w-full",children:[(0,t.jsx)("div",{className:"absolute left-2 top-1",children:(0,t.jsx)(n,{})}),(0,t.jsx)("input",{type:"text",value:v,onChange:e=>j(e.target.value),className:"bg-gray-50 p-1 pl-10 w-full rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Search"})]})})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 w-full h-full mt-2 flex-no-wrap rounded-lg  ".concat(M?"":"bg-white p-2"),children:[(0,t.jsx)("div",{className:"flex w-full",children:(0,t.jsxs)("div",{className:"flex flex-col w-full ",children:[M?(0,t.jsx)("div",{className:"flex flex-col gap-y-4 items-center justify-center",children:Array.isArray(W)&&W.length>0?W.map(e=>{var s;let r="APPROVED"===e.status?"success":"REJECTED"===e.status?"danger":"PENDING"===e.status?"warning":"default",n=null!=(s=e.status)?s:"UNKNOWN";return(0,t.jsxs)("div",{className:"w-full p-4 flex flex-col gap-y-1.5 rounded-md shadow hover:bg-green-50 cursor-pointer ".concat(e.id===(null==l?void 0:l.id)?"bg-green-100":"bg-[#FAFAFA]"),onClick:()=>Q(e),children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Request No:"})," ",e.referenceCode]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Type:"})," ",e.requestType.requestName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Branch:"})," ",e.requestFrom.branchName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Date:"})," ",(0,t.jsx)(u.XU,{value:e.requestDate})]}),(0,t.jsx)(x,{type:r,label:n})]},e.id)}):(0,t.jsx)("p",{className:"text-center py-4 text-gray-500",children:"No request available"})}):(0,t.jsxs)("table",{className:"w-full border-separate border-spacing-0",children:[(0,t.jsx)("thead",{className:"bg-[#0FC497]",children:(0,t.jsxs)("tr",{className:"text-center",children:[(0,t.jsx)("th",{className:"rounded-tl-lg px-4 py-2 text-white text-sm",children:"Request No."}),(0,t.jsx)("th",{className:"px-4 py-2 text-white text-sm",children:"Request Type"}),(0,t.jsx)("th",{className:"px-4 py-2 text-white text-sm",children:"Branch"}),(0,t.jsx)("th",{className:"px-4 py-2 text-white text-sm",children:"Request Date"}),(0,t.jsx)("th",{className:"rounded-tr-lg px-4 py-2 text-white text-sm",children:"Status"})]})}),(0,t.jsx)("tbody",{children:Array.isArray(W)&&W.length>0?W.map(e=>{var s,r,n,a;let i="APPROVED"===e.status?"success":"REJECTED"===e.status?"danger":"PENDING"===e.status?"warning":"default",o=null!=(n=e.status)?n:"UNKNOWN";return(0,t.jsxs)("tr",{className:"text-xs text-center text-black hover:bg-green-100 cursor-pointer ".concat(e.id===(null==l?void 0:l.id)?"bg-green-100":"bg-[#FAFAFA]"),onClick:()=>Q(e),children:[(0,t.jsx)("td",{className:"px-4 py-2 border-l border-b border-[#E9E3E3]",children:e.referenceCode}),(0,t.jsx)("td",{className:"px-4 py-2 border-b border-[#E9E3E3]",children:null!=(a=null==(s=e.requestType)?void 0:s.requestName)?a:""}),(0,t.jsx)("td",{className:"px-4 py-2 border-b border-[#E9E3E3]",children:null==(r=e.requestFrom)?void 0:r.branchName}),(0,t.jsx)("td",{className:"px-4 py-2 border-b border-[#E9E3E3]",children:(0,t.jsx)(u.XU,{value:e.requestDate})}),(0,t.jsx)("td",{className:"px-4 py-2 border-r border-b border-[#E9E3E3]",children:(0,t.jsx)(x,{type:i,label:o})})]},e.id)}):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"text-center py-4 border-b border-[#E9E3E3]",children:"No request available"})})})]}),z?(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-4 text-sm text-gray-600",children:[(0,t.jsx)("button",{disabled:1===g,onClick:()=>p(e=>e-1),className:"px-3 py-1 border rounded disabled:opacity-50",children:"Prev"}),(0,t.jsxs)("span",{children:["Page ",z.page," of ",z.totalPages," (",z.total," total)",P&&(0,t.jsx)("span",{className:"ml-2 text-gray-400",children:"⏳ Updating..."})]}),(0,t.jsx)("button",{disabled:g>=z.totalPages,onClick:()=>p(e=>e+1),className:"px-3 py-1 border rounded disabled:opacity-50",children:"Next"})]}):null]})}),(0,t.jsxs)("div",{children:[(l||F)&&(M?F&&(0,t.jsx)(h.A,{title:"Monitoring Preview",size:"xs",onClose:()=>B(!1),children:(0,t.jsx)(O,{mainRequest:l})}):(0,t.jsx)(O,{mainRequest:l})),A&&(0,t.jsx)(h.A,{size:"lg",title:"Daily Request Monitoring",onClose:()=>R(!1),children:(0,t.jsx)(L,{})})]})]})]})}function M(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{className:"p-4 text-gray-500",children:"Loading monitoring data..."}),children:(0,t.jsx)(B,{})})}}},e=>{e.O(0,[320,466,960,322,280,568,626,660,441,964,358],()=>e(e.s=8424)),_N_E=e.O()}]);