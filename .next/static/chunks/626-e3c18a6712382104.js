"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{581:(e,r,s)=>{s.d(r,{A:()=>b,y:()=>u});var l=s(95155),a=s(51935),d=s(70567),n=s(16304),t=s(80968),o=s(93709),c=s(99472),i=s(44128),x=s(50228),m=s(77411);function b(e){var r,s,m;let{formData:b,onClose:u,onReset:h,approvers:p}=e,{data:N=[]}=(0,o.In)(),j=N.find(e=>e.id===(null==b?void 0:b.requestFromId)),{mutate:v}=(0,i.c3)();return(0,l.jsxs)("div",{className:"py-4  max-h-[70vh] overflow-y-auto",children:[(0,l.jsx)("div",{className:"font-black text-xl sm:text-lg text-center",children:(0,l.jsxs)("h1",{children:[null!=(s=null==j?void 0:j.branchName)?s:"","  LENDING CORPORATION",(0,l.jsx)("br",{})," ",null==j?void 0:j.address]})}),(0,l.jsx)("div",{className:"text-center mt-8",children:(0,l.jsx)("h3",{className:"text-lg font-black",children:"WEEKLY ITINERARY DEVIATION"})}),(0,l.jsxs)("div",{className:"mt-10 px-4 space-y-2",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 w-5/12",children:[(0,l.jsx)("span",{className:"font-bold",children:"DATE:"}),(0,l.jsx)("span",{className:"font-bold",children:(0,c.gl)(null==b?void 0:b.cur_date)})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 w-5/12",children:[(0,l.jsx)("span",{className:"font-bold",children:"BRANCH:"}),(0,l.jsx)("span",{className:"font-bold",children:null!=(m=null==j?void 0:j.branchName)?m:""})]})]}),(0,l.jsx)("div",{className:"mt-8 w-12/12 px-5 rounded-md mx-auto overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full text-xs border-collapse border border-gray-300",children:[(0,l.jsx)("thead",{className:"bg-gray-100",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"DATE"}),(0,l.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"APPROVED WEEKLY ITINERARY"}),(0,l.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"PURPOSE"}),(0,l.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"DEVIATION"})]})}),(0,l.jsx)("tbody",{children:null==b||null==(r=b.table_data)?void 0:r.map((e,r)=>{var s;return(0,l.jsxs)("tr",{className:"odd:bg-white even:bg-gray-50",children:[(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.date}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.approved_weekly_itinerary}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:null!=(s=e.purpose)?s:"NA"}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.deviation})]},r)})})]})}),(0,l.jsx)("div",{className:"mt-10",children:(0,l.jsx)(t.A,{approverList:p})}),(0,l.jsxs)("div",{className:"flex gap-x-4 w-full justify-end mt-10 pr-10",children:[(0,l.jsx)(n.A,{label:"Submit with e signature",onClick:()=>{v(b,{onSuccess:()=>{x.A.successAlert("Saved","Form saved successfully"),null==h||h(),null==u||u()}})},variant:"success",icon:(0,l.jsx)(a.A,{})}),(0,l.jsx)(n.A,{label:"Close",variant:"danger",onClick:u,icon:(0,l.jsx)(d.A,{})})]})]})}function u(e){var r,s,a,d;let{mainRequest:n}=e;return(0,l.jsxs)("div",{className:"py-4  max-h-[70vh] overflow-y-auto",children:[(0,l.jsx)("div",{className:"font-black text-xl md:text-lg text-center",children:(0,l.jsxs)("h1",{children:[null==n?void 0:n.requestFrom.branchName,"  LENDING CORPORATION",(0,l.jsx)("br",{}),"  ",null==n?void 0:n.requestFrom.address]})}),(0,l.jsx)("div",{className:"text-center mt-8",children:(0,l.jsx)("h3",{className:"text-lg font-black",children:"WEEKLY ITINERARY DEVIATION"})}),(0,l.jsxs)("div",{className:"mt-10 px-4 space-y-2 text-[.6rem] md:text-base",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 w-10/12 sm:w-5/12",children:[(0,l.jsx)("span",{className:"font-bold",children:"DATE:"}),(0,l.jsx)("span",{className:"font-bold",children:(0,c.gl)(null==n||null==(r=n.formWeeklyItineraryDeviation)?void 0:r.cur_date)})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 w-10/12 sm:w-5/12",children:[(0,l.jsx)("span",{className:"font-bold",children:"BRANCH:"}),(0,l.jsx)("span",{className:"font-bold",children:null!=(d=null==n?void 0:n.requestFrom.branchName)?d:""})]})]}),(0,l.jsx)("div",{className:"mt-8 w-12/12 px-5 rounded-md mx-auto overflow-x-auto text-[.6rem] md:text-xs",children:(0,l.jsxs)("table",{className:"min-w-full border-collapse border border-gray-300",children:[(0,l.jsx)("thead",{className:"bg-gray-100",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-10 sm:px-3 py-2 border border-gray-300",children:"DATE"}),(0,l.jsx)("th",{className:"px-10 sm:px-3 py-2 border border-gray-300",children:"APPROVED WEEKLY ITINERARY"}),(0,l.jsx)("th",{className:"px-10 sm:px-3 py-2 border border-gray-300",children:"PURPOSE"}),(0,l.jsx)("th",{className:"px-10 sm:px-3 py-2 border border-gray-300",children:"DEVIATION"})]})}),(0,l.jsx)("tbody",{children:null==n||null==(a=n.formWeeklyItineraryDeviation)||null==(s=a.table_data)?void 0:s.map((e,r)=>{var s;return(0,l.jsxs)("tr",{className:"odd:bg-white even:bg-gray-50",children:[(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:(0,c.gl)(e.date)}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.approved_weekly_itinerary}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:null!=(s=e.purpose)?s:"NA"}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.deviation})]},r)})})]})}),(0,l.jsx)("div",{className:"mt-10 px-4",children:(0,l.jsx)(m.A,{requestData:n,approverList:null==n?void 0:n.approval})})]})}},1120:(e,r,s)=>{s.d(r,{Lx:()=>a,Ni:()=>d,SR:()=>t,y4:()=>n});var l=s(31886);let a=async e=>(await l.A.post("/login",e)).data,d=async()=>(await l.A.get("/me")).data,n=async()=>(await l.A.post("/logout")).data,t=async(e,r)=>(await l.A.put("/user/".concat(e,"/sms-notification"),{smsNotification:r})).data},4236:(e,r,s)=>{s.d(r,{Cd:()=>b,Wn:()=>x,rA:()=>m,vz:()=>i});var l=s(50228),a=s(23274),d=s(1120),n=s(5041),t=s(32960),o=s(26715),c=s(35695);let i=()=>{let e=(0,c.useRouter)();return(0,n.n)({mutationFn:e=>(0,d.Lx)(e),onSuccess:()=>{e.push("/request")}})},x=()=>{let e=(0,c.useRouter)(),{setUser:r}=(0,a.A)();return(0,n.n)({mutationFn:d.y4,onSuccess:()=>{r(null),e.push("/login")}})},m=()=>(0,t.I)({queryKey:["me"],queryFn:d.Ni}),b=()=>{let e=(0,o.jE)();return(0,n.n)({mutationFn:e=>(0,d.SR)(e.id,e.smsNotification),onSuccess:(r,s)=>{e.invalidateQueries({queryKey:["me"]}),l.A.successAlert("Success","SMS notification turned ".concat(s.smsNotification?"ON":"OFF"))}})}},5573:(e,r,s)=>{s.d(r,{A:()=>b,e:()=>u});var l=s(95155),a=s(51935),d=s(70567),n=s(16304),t=s(93709),o=s(80968),c=s(99472),i=s(44128),x=s(50228),m=s(77411);function b(e){var r,s;let{formData:m,onClose:b,onReset:u,approvers:h}=e,{data:p=[]}=(0,t.In)(),N=p.find(e=>e.id===(null==m?void 0:m.requestFromId)),{mutate:j}=(0,i.YR)();return(0,l.jsxs)("div",{className:"py-4  max-h-[70vh] overflow-y-auto",children:[(0,l.jsx)("div",{className:"font-black text-xl sm:text-lg text-center",children:(0,l.jsxs)("h1",{children:[null!=(s=null==N?void 0:N.branchName)?s:"","  LENDING CORPORATION",(0,l.jsx)("br",{})," ",null==N?void 0:N.address]})}),(0,l.jsx)("div",{className:"text-center mt-8",children:(0,l.jsx)("h3",{className:"text-lg font-black",children:"FSM ITINERARY"})}),(0,l.jsxs)("div",{className:"flex gap-x-2 px-4 mt-10",children:[(0,l.jsx)("span",{className:"font-bold",children:"FROM:"}),(0,l.jsx)("span",{children:(0,c.gl)(null==m?void 0:m.from_date)}),(0,l.jsx)("span",{children:"to"}),(0,l.jsx)("span",{children:(0,c.gl)(null==m?void 0:m.to_date)})]}),(0,l.jsx)("div",{className:"mt-2 w-12/12 px-4 rounded-md mx-auto overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full text-xs border-collapse border border-gray-300 text-center",children:[(0,l.jsx)("thead",{className:"bg-gray-100",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"DATE"}),(0,l.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"DAYS"}),(0,l.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"BRANCH"}),(0,l.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"REMARKS"})]})}),(0,l.jsx)("tbody",{children:null==m||null==(r=m.table_data)?void 0:r.map((e,r)=>{var s;return(0,l.jsxs)("tr",{className:"odd:bg-white even:bg-gray-50",children:[(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:(0,c.gl)(e.date)}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.days}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:null!=(s=e.branch)?s:"NA"}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.remarks})]},r)})})]})}),(0,l.jsx)("div",{className:"mt-10",children:(0,l.jsx)(o.A,{approverList:h})}),(0,l.jsxs)("div",{className:"flex gap-x-4 w-full justify-end mt-10 pr-10",children:[(0,l.jsx)(n.A,{label:"Submit with e signature",onClick:()=>{j(m,{onSuccess:()=>{x.A.successAlert("Saved","Form saved successfully"),null==u||u(),null==b||b()}})},variant:"success",icon:(0,l.jsx)(a.A,{})}),(0,l.jsx)(n.A,{label:"Close",variant:"danger",onClick:b,icon:(0,l.jsx)(d.A,{})})]})]})}function u(e){var r,s,a,d;let{mainRequest:n}=e;return(0,l.jsxs)("div",{className:"py-4  max-h-[70vh] overflow-y-auto",children:[(0,l.jsx)("div",{className:"font-black text-xl sm:text-lg text-center",children:(0,l.jsxs)("h1",{children:[null==n?void 0:n.requestFrom.branchName,"   LENDING CORPORATION",(0,l.jsx)("br",{}),null==n?void 0:n.requestFrom.address]})}),(0,l.jsx)("div",{className:"text-center mt-8",children:(0,l.jsx)("h3",{className:"text-lg font-black",children:"FSM ITINERARY"})}),(0,l.jsxs)("div",{className:"flex gap-x-2 px-4 mt-10 w-[20rem] md:w-7/12 text-[.6rem] md:text-base",children:[(0,l.jsx)("span",{className:"font-bold",children:"FROM:"}),(0,l.jsx)("span",{children:(0,c.gl)(null==n||null==(r=n.formFSMItinerary)?void 0:r.from_date)}),(0,l.jsx)("span",{children:"to"}),(0,l.jsx)("span",{children:(0,c.gl)(null==n||null==(s=n.formFSMItinerary)?void 0:s.to_date)})]}),(0,l.jsx)("div",{className:"mt-2 w-12/12 px-4 rounded-md mx-auto overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full border-collapse border border-gray-300 text-center text-[.6rem] md:text-xs",children:[(0,l.jsx)("thead",{className:"bg-gray-100",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-10 md:px-3 py-2 border border-gray-300",children:"DATE"}),(0,l.jsx)("th",{className:"px-10 md:px-3 py-2 border border-gray-300",children:"DAYS"}),(0,l.jsx)("th",{className:"px-10 md:px-3 py-2 border border-gray-300",children:"BRANCH"}),(0,l.jsx)("th",{className:"px-10 md:px-3 py-2 border border-gray-300",children:"REMARKS"})]})}),(0,l.jsx)("tbody",{children:null==n||null==(d=n.formFSMItinerary)||null==(a=d.table_data)?void 0:a.map((e,r)=>{var s;return(0,l.jsxs)("tr",{className:"odd:bg-white even:bg-gray-50",children:[(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:(0,c.gl)(e.date)}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.days}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:null!=(s=e.branch)?s:"NA"}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.remarks})]},r)})})]})}),(0,l.jsx)("div",{className:"mt-10 px-4",children:(0,l.jsx)(m.A,{requestData:n,approverList:null==n?void 0:n.approval})})]})}},8011:(e,r,s)=>{s.d(r,{A:()=>u,q:()=>h});var l=s(95155),a=s(51935),d=s(70567),n=s(16304),t=s(93709),o=s(80968),c=s(99472),i=s(41457),x=s(44128),m=s(50228),b=s(77411);function u(e){var r,s,b,u;let{formData:h,onClose:p,onReset:N,approvers:j}=e,{data:v=[]}=(0,t.In)(),g=v.find(e=>e.id===(null==h?void 0:h.requestFromId)),y=null!=(b=null==h||null==(r=h.table_data)?void 0:r.reduce((e,r)=>e+(Number(r.amount)||0),0))?b:0,{mutate:f}=(0,x.WB)();return(0,l.jsxs)("div",{className:"py-4  max-h-[70vh] overflow-y-auto",children:[(0,l.jsx)("div",{className:"font-black text-xl text-center",children:(0,l.jsxs)("h1",{children:[null!=(u=null==g?void 0:g.branchName)?u:"","  LENDING CORPORATION",(0,l.jsx)("br",{})," ",null==g?void 0:g.address]})}),(0,l.jsx)("div",{className:"text-center mt-8",children:(0,l.jsx)("h2",{className:"font-black text-lg",children:"FIELD WEEKLY ITINERARY AND TRAVEL EXPENSE REPORT"})}),(0,l.jsxs)("div",{className:"grid grid-cols-2 mt-12 w-7/12 px-4 space-y-1",children:[(0,l.jsx)("span",{className:"font-bold",children:"NAME: "}),(0,l.jsx)("span",{className:"font-semibold",children:null==h?void 0:h.name}),(0,l.jsx)("span",{className:"font-bold",children:"DATE COVERED: "}),(0,l.jsx)("span",{className:"font-semibold",children:(0,c.gl)(null==h?void 0:h.date_covered)}),(0,l.jsx)("span",{className:"font-bold",children:"PURPOSE: "}),(0,l.jsx)("span",{className:"font-semibold",children:null==h?void 0:h.purpose})]}),(0,l.jsx)("div",{className:"mt-8 w-12/12 px-5 rounded-md mx-auto overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full text-xs border-collapse border border-gray-300",children:[(0,l.jsx)("thead",{className:"bg-gray-100",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-3 py-2 border border-gray-300 font-extrabold",children:"DATE"}),(0,l.jsx)("th",{className:"px-3 py-2 border border-gray-300 font-extrabold",children:"PARTICULARS"}),(0,l.jsx)("th",{className:"px-3 py-2 border border-gray-300 font-extrabold",children:"AMOUNT"})]})}),(0,l.jsxs)("tbody",{className:"text-center",children:[null==h||null==(s=h.table_data)?void 0:s.map((e,r)=>{var s;return(0,l.jsxs)("tr",{className:"odd:bg-white even:bg-gray-50",children:[(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:(0,c.gl)(e.date)}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.particulars}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:null!=(s=e.amount)?s:"NA"})]},r)}),(0,l.jsxs)("tr",{className:"font-extrabold",children:[(0,l.jsx)("td",{colSpan:2,className:"text-center",children:"TOTAL"}),(0,l.jsx)("td",{className:"text-center border border-gray-300 p-2",children:(0,i.u)(y)})]})]})]})}),(0,l.jsx)("div",{className:"mt-10",children:(0,l.jsx)(o.A,{approverList:j})}),(0,l.jsxs)("div",{className:"flex gap-x-4 w-full justify-end mt-10 pr-10",children:[(0,l.jsx)(n.A,{label:"Submit with e signature",onClick:()=>{f(h,{onSuccess:()=>{m.A.successAlert("Saved","Form saved successfully"),null==N||N(),null==p||p()}})},variant:"success",icon:(0,l.jsx)(a.A,{})}),(0,l.jsx)(n.A,{label:"Close",variant:"danger",onClick:p,icon:(0,l.jsx)(d.A,{})})]})]})}function h(e){var r,s,a,d,n,t,o,x;let{mainRequest:m}=e,u=null!=(x=null==m||null==(s=m.formTravelOrderLiquidation)||null==(r=s.table_data)?void 0:r.reduce((e,r)=>e+(Number(r.amount)||0),0))?x:0;return(0,l.jsxs)("div",{className:"py-4  max-h-[70vh] overflow-y-auto",children:[(0,l.jsx)("div",{className:"font-black text-xl text-center",children:(0,l.jsxs)("h1",{children:[null==m?void 0:m.requestFrom.branchName,"  LENDING CORPORATION",(0,l.jsx)("br",{})," ",null==m?void 0:m.requestFrom.address]})}),(0,l.jsx)("div",{className:"text-center mt-8",children:(0,l.jsx)("h2",{className:"font-black text-lg",children:"FIELD WEEKLY ITINERARY AND TRAVEL EXPENSE REPORT"})}),(0,l.jsxs)("div",{className:"grid grid-cols-2 mt-12 w-12/12 md:w-9/12 px-4 space-y-2 text-[.7rem] md:text-base",children:[(0,l.jsx)("span",{className:"font-bold",children:"NAME: "}),(0,l.jsx)("span",{className:"font-semibold",children:null==m||null==(a=m.formTravelOrderLiquidation)?void 0:a.name}),(0,l.jsx)("span",{className:"font-bold",children:"DATE COVERED: "}),(0,l.jsx)("span",{className:"font-semibold",children:(0,c.gl)(null==m||null==(d=m.formTravelOrderLiquidation)?void 0:d.date_covered)}),(0,l.jsx)("span",{className:"font-bold",children:"PURPOSE: "}),(0,l.jsx)("span",{className:"font-semibold",children:null==m||null==(n=m.formTravelOrderLiquidation)?void 0:n.purpose})]}),(0,l.jsx)("div",{className:"mt-8 w-12/12 px-5 rounded-md mx-auto overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full text-[.7rem] md:text-xs border-collapse border border-gray-300",children:[(0,l.jsx)("thead",{className:"bg-gray-100",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-12 md:px-3 py-2 border border-gray-300 font-extrabold",children:"DATE"}),(0,l.jsx)("th",{className:"px-12 md:px-3 py-2 border border-gray-300 font-extrabold",children:"PARTICULARS"}),(0,l.jsx)("th",{className:"px-12 md:px-3 py-2 border border-gray-300 font-extrabold",children:"AMOUNT"})]})}),(0,l.jsxs)("tbody",{className:"text-center",children:[null==m||null==(o=m.formTravelOrderLiquidation)||null==(t=o.table_data)?void 0:t.map((e,r)=>{var s;return(0,l.jsxs)("tr",{className:"odd:bg-white even:bg-gray-50",children:[(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:(0,c.gl)(e.date)}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.particulars}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:null!=(s=e.amount)?s:"NA"})]},r)}),(0,l.jsxs)("tr",{className:"font-extrabold",children:[(0,l.jsx)("td",{colSpan:2,className:"text-center",children:"TOTAL"}),(0,l.jsx)("td",{className:"text-center border border-gray-300 p-2",children:(0,i.u)(u)})]})]})]})}),(0,l.jsx)("div",{className:"mt-10 px-4",children:(0,l.jsx)(b.A,{requestData:m,approverList:null==m?void 0:m.approval})})]})}},14271:(e,r,s)=>{s.d(r,{A:()=>h,Q:()=>p});var l=s(95155),a=s(99472),d=s(44128),n=s(50228),t=s(12115),o=s(80968),c=s(93709),i=s(16304),x=s(51935),m=s(70567),b=s(41457),u=s(77411);function h(e){var r,s,u,h,p,N;let{formData:j,onClose:v,onReset:g,approvers:y}=e,{data:f=[]}=(0,c.In)(),E=f.find(e=>e.id===(null==j?void 0:j.requestFromId)),{mutate:A}=(0,d.sy)(),_=null!=(p=null==j||null==(r=j.items_list)?void 0:r.reduce((e,r)=>e+(r.qty&&r.po_unit_cost?r.qty*r.po_unit_cost:0),0))?p:0;return(0,l.jsxs)("div",{className:"py-4  max-h-[70vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"font-black text-center",children:[(0,l.jsxs)("h1",{className:"text-xl",children:[null!=(N=null==E?void 0:E.branchName)?N:"","  LENDING CORPORATION",(0,l.jsx)("br",{})," ",null==E?void 0:E.address]}),(0,l.jsx)("h2",{className:"font-black text-xl mt-4",children:"PURCHASING FORM"})]}),(0,l.jsxs)("div",{className:"mt-15 text-xs",children:[(0,l.jsxs)("div",{className:"flex flex-row justify-evenly gap-x-10 mb-1",children:[(0,l.jsx)("div",{children:(0,a.gl)(null==j?void 0:j.date)}),(0,l.jsxs)("div",{className:"text-red-700",children:["NO.",null==j?void 0:j.document_number]})]}),(0,l.jsxs)("table",{className:"border-collapse w-full border border-gray-400",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"py-1 border border-gray-400",colSpan:2,children:"I. PURCHASE REQUISITION"}),(0,l.jsx)("th",{colSpan:6,className:"border border-gray-400",children:"II. CANVASS SHEET"}),(0,l.jsx)("th",{colSpan:5,className:"border border-gray-400",children:"III. PURCHASE ORDER"})]})}),(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{className:"border border-gray-400 text-center",children:[(0,l.jsx)("td",{rowSpan:4,className:"py-1 px-2",children:"QTY"}),(0,l.jsx)("td",{rowSpan:4,className:"border border-gray-400",children:"ITEM"}),null==j||null==(s=j.supplier_list)?void 0:s.map((e,r)=>(0,l.jsxs)(t.Fragment,{children:[(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:"SUPPLIER"}),(0,l.jsx)("td",{className:"border border-gray-400 bg-gray-300",children:(null==e?void 0:e.name)||"—"})]},r)),(0,l.jsx)("td",{className:"border border-gray-400 p-1",rowSpan:2,children:"QTY"}),(0,l.jsx)("td",{className:"border border-gray-400",rowSpan:2,children:"DESCRIPTION"}),(0,l.jsx)("td",{className:"border border-gray-400",rowSpan:2,children:"UNIT COST"}),(0,l.jsx)("td",{className:"border border-gray-400",rowSpan:2,children:"AMOUNT"}),(0,l.jsx)("td",{className:"border border-gray-400",rowSpan:2,children:"REMARKS"})]}),(0,l.jsx)("tr",{className:"text-center",children:null==j||null==(u=j.supplier_list)?void 0:u.map((e,r)=>(0,l.jsxs)(t.Fragment,{children:[(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:"SUPPLIER"}),(0,l.jsx)("td",{className:"border border-gray-400 bg-gray-300",children:(null==e?void 0:e.address)||"—"})]},r))}),(0,l.jsxs)("tr",{className:"text-center",children:[(0,l.jsx)("td",{className:"border border-gray-400",children:"UNIT PRICE"}),(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:"TOTAL"}),(0,l.jsx)("td",{className:"border border-gray-400",children:"UNIT PRICE"}),(0,l.jsx)("td",{className:"border border-gray-400",children:"TOTAL"}),(0,l.jsx)("td",{className:"border border-gray-400",children:"UNIT PRICE"}),(0,l.jsx)("td",{className:"border border-gray-400",children:"TOTAL"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border border-gray-400 invisible"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"})]}),null==j||null==(h=j.items_list)?void 0:h.map((e,r)=>{var s,a;return(0,l.jsxs)("tr",{className:"text-center",children:[(0,l.jsxs)("td",{className:"border border-gray-400 p-1",children:[e.qty," ",e.unit_of_quantity]}),(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:e.item_name}),null==j||null==(s=j.supplier_list)?void 0:s.map((s,a)=>{var d;let n=null==s||null==(d=s.prices)?void 0:d[r],o=n&&e.qty?(n*e.qty).toFixed(2):"-";return(0,l.jsxs)(t.Fragment,{children:[(0,l.jsx)("td",{className:"border border-gray-400 p-1 text-right",children:null!=n?n:"-"}),(0,l.jsx)("td",{className:"border border-gray-400 p-1 text-right",children:o})]},a)}),(0,l.jsxs)("td",{className:"border border-gray-400 p-1",children:[e.qty," ",e.unit_of_quantity]}),(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:e.item_name}),(0,l.jsx)("td",{className:"border border-gray-400 p-1 text-right",children:null!=(a=null==e?void 0:e.po_unit_cost)?a:"-"}),(0,l.jsx)("td",{className:"border border-gray-400 p-1 text-right",children:e.qty&&e.po_unit_cost?(e.qty*e.po_unit_cost).toFixed(2):"-"}),(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:e.remarks})]},r)}),(0,l.jsxs)("tr",{className:"font-extrabold",children:[(0,l.jsx)("td",{colSpan:11,className:"text-right border border-gray-400 pr-4",children:"TOTAL"}),(0,l.jsx)("td",{className:"text-center border border-gray-400",children:(0,b.u)(_)})]})]})]})]}),(0,l.jsx)("div",{className:"mt-15",children:(0,l.jsx)(o.A,{approverList:y})}),(0,l.jsxs)("div",{className:"flex gap-x-4 w-full justify-end mt-10",children:[(0,l.jsx)(i.A,{label:"Submit with e signature",onClick:()=>{A(j,{onSuccess:()=>{n.A.successAlert("Saved","Form saved successfully"),null==g||g(),null==v||v()}})},variant:"success",icon:(0,l.jsx)(x.A,{})}),(0,l.jsx)(i.A,{label:"Close",variant:"danger",onClick:v,icon:(0,l.jsx)(m.A,{})})]})]})}function p(e){var r,s,d,n,o,c,i,x,m,h,p;let{mainRequest:N}=e,j=null!=(p=null==N||null==(s=N.FFEPurchasingForm)||null==(r=s.items_list)?void 0:r.reduce((e,r)=>e+(r.qty&&r.po_unit_cost?r.qty*r.po_unit_cost:0),0))?p:0;return(0,l.jsxs)("div",{className:"py-4  max-h-[70vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"font-black text-center",children:[(0,l.jsxs)("h1",{className:"text-xl",children:[null==N?void 0:N.requestFrom.branchName,"   LENDING CORPORATION",(0,l.jsx)("br",{})," ",null==N?void 0:N.requestFrom.address]}),(0,l.jsx)("h2",{className:"font-black text-xl mt-4",children:"PURCHASING FORM"})]}),(0,l.jsxs)("div",{className:"mt-15 text-[.6rem] md:text-xs",children:[(0,l.jsxs)("div",{className:"flex flex-row justify-evenly gap-x-10 mb-1",children:[(0,l.jsx)("div",{children:(0,a.gl)(null==N||null==(d=N.FFEPurchasingForm)?void 0:d.date)}),(0,l.jsxs)("div",{className:"text-red-700",children:["NO.",null==N||null==(n=N.FFEPurchasingForm)?void 0:n.document_number]})]}),(0,l.jsxs)("table",{className:"border-collapse w-full border border-gray-400",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"py-1 border border-gray-400",colSpan:2,children:"I. PURCHASE REQUISITION"}),(0,l.jsx)("th",{colSpan:6,className:"border border-gray-400",children:"II. CANVASS SHEET"}),(0,l.jsx)("th",{colSpan:5,className:"border border-gray-400",children:"III. PURCHASE ORDER"})]})}),(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{className:"border border-gray-400 text-center",children:[(0,l.jsx)("td",{rowSpan:4,className:"py-1 px-2",children:"QTY"}),(0,l.jsx)("td",{rowSpan:4,className:"border border-gray-400 px-10 md:px-2",children:"ITEM"}),null==N||null==(c=N.FFEPurchasingForm)||null==(o=c.supplier_list)?void 0:o.map((e,r)=>(0,l.jsxs)(t.Fragment,{children:[(0,l.jsx)("td",{className:"border border-gray-400 p-1 px-4 md:px-2",children:"SUPPLIER"}),(0,l.jsx)("td",{className:"border border-gray-400 bg-gray-300",children:(null==e?void 0:e.name)||"—"})]},r)),(0,l.jsx)("td",{className:"border border-gray-400 p-1 px-4 md:px-2",rowSpan:2,children:"QTY"}),(0,l.jsx)("td",{className:"border border-gray-400 px-4 md:px-2",rowSpan:2,children:"DESCRIPTION"}),(0,l.jsx)("td",{className:"border border-gray-400 px-4 md:px-2",rowSpan:2,children:"UNIT COST"}),(0,l.jsx)("td",{className:"border border-gray-400 px-4 md:px-2",rowSpan:2,children:"AMOUNT"}),(0,l.jsx)("td",{className:"border border-gray-400 px-4 md:px-2",rowSpan:2,children:"REMARKS"})]}),(0,l.jsx)("tr",{className:"text-center",children:null==N||null==(x=N.FFEPurchasingForm)||null==(i=x.supplier_list)?void 0:i.map((e,r)=>(0,l.jsxs)(t.Fragment,{children:[(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:"SUPPLIER"}),(0,l.jsx)("td",{className:"border border-gray-400 bg-gray-300",children:(null==e?void 0:e.address)||"—"})]},r))}),(0,l.jsxs)("tr",{className:"text-center",children:[(0,l.jsx)("td",{className:"border border-gray-400",children:"UNIT PRICE"}),(0,l.jsx)("td",{className:"border border-gray-400 py-1 px-4 md:px-2",children:"TOTAL"}),(0,l.jsx)("td",{className:"border border-gray-400",children:"UNIT PRICE"}),(0,l.jsx)("td",{className:"border border-gray-400 px-4 md:px-2",children:"TOTAL"}),(0,l.jsx)("td",{className:"border border-gray-400",children:"UNIT PRICE"}),(0,l.jsx)("td",{className:"border border-gray-400 px-4 md:px-2",children:"TOTAL"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border border-gray-400 invisible"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"}),(0,l.jsx)("td",{className:"border border-gray-400 invisible",children:"s"})]}),null==N||null==(h=N.FFEPurchasingForm)||null==(m=h.items_list)?void 0:m.map((e,r)=>{var s,a,d;return(0,l.jsxs)("tr",{className:"text-center",children:[(0,l.jsxs)("td",{className:"border border-gray-400 p-1",children:[e.qty," ",e.unit_of_quantity]}),(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:e.item_name}),null==N||null==(a=N.FFEPurchasingForm)||null==(s=a.supplier_list)?void 0:s.map((s,a)=>{var d;let n=null==s||null==(d=s.prices)?void 0:d[r],o=n&&e.qty?(n*e.qty).toFixed(2):"-";return(0,l.jsxs)(t.Fragment,{children:[(0,l.jsx)("td",{className:"border border-gray-400 p-1 text-right",children:null!=n?n:"-"}),(0,l.jsx)("td",{className:"border border-gray-400 p-1 text-right",children:o})]},a)}),(0,l.jsxs)("td",{className:"border border-gray-400 p-1",children:[e.qty," ",e.unit_of_quantity]}),(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:e.item_name}),(0,l.jsx)("td",{className:"border border-gray-400 p-1 text-right",children:null!=(d=null==e?void 0:e.po_unit_cost)?d:"-"}),(0,l.jsx)("td",{className:"border border-gray-400 p-1 text-right",children:e.qty&&e.po_unit_cost?(e.qty*e.po_unit_cost).toFixed(2):"-"}),(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:e.remarks})]},r)}),(0,l.jsxs)("tr",{className:"font-extrabold",children:[(0,l.jsx)("td",{colSpan:11,className:"text-right border border-gray-400 pr-4",children:"TOTAL"}),(0,l.jsx)("td",{className:"text-center border border-gray-400",children:(0,b.u)(j)})]})]})]})]}),(0,l.jsx)("div",{className:"mt-8 px-4",children:(0,l.jsx)(u.A,{requestData:N,approverList:null==N?void 0:N.approval})})]})}},15375:(e,r,s)=>{s.d(r,{a6:()=>c,as:()=>t,j:()=>o});var l=s(26715),a=s(5041),d=s(32960),n=s(94469);let t=e=>{let{mutationFn:r,queryKey:s,...d}=e,n=(0,l.jE)();return(0,a.n)({mutationFn:r,onSuccess:function(){for(var e,r=arguments.length,l=Array(r),a=0;a<r;a++)l[a]=arguments[a];n.invalidateQueries({queryKey:s}),null==(e=d.onSuccess)||e.call(d,...l)},...d})},o=e=>{let{queryKey:r,queryFn:s,staleTime:l=3e5,enabled:a=!0}=e;return(0,d.I)({queryKey:r,queryFn:s,staleTime:l,enabled:a})},c=e=>{let{baseUrl:r,invalidateKeys:s}=e,d=(0,l.jE)();return(0,a.n)({mutationFn:e=>(0,n.ST)(r,e),onSuccess:()=>{for(let e of s)d.invalidateQueries({queryKey:e})}})}},16304:(e,r,s)=>{s.d(r,{A:()=>d});var l=s(95155),a=s(52596);function d(e){let{type:r="button",label:s,variant:d="success",size:n="md",icon:t,className:o,...c}=e,i={xs:"px-2 py-1 text-[0.6rem]",sm:"px-3 py-1 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-3 text-base"},x=!!t&&!s;return(0,l.jsxs)("button",{type:r,className:(0,a.A)("inline-flex items-center justify-center rounded-md font-medium cursor-pointer transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",i[n],{success:"bg-[#32B695] text-white hover:bg-green-600",info:"bg-blue-500 text-white hover:bg-blue-600",danger:"bg-red-500 text-white hover:bg-red-600",secondary:"bg-gray-100 text-black hover:bg-gray-200"}[d],x?({xs:"p-1",sm:"p-1.5",md:"p-2",lg:"p-3"})[n]:i[n],o),...c,children:[t&&(0,l.jsx)("span",{className:(0,a.A)(s?"mr-2":""),children:t}),s]})}},23274:(e,r,s)=>{s.d(r,{A:()=>o,AuthProvider:()=>t});var l=s(95155),a=s(12115),d=s(31886);let n=(0,a.createContext)({user:null,setUser:()=>{},loading:!0}),t=e=>{let{children:r}=e,[s,t]=(0,a.useState)(null),[o,c]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{d.A.get("/me").then(e=>t(e.data)).catch(()=>t(null)).finally(()=>c(!1))},[]),(0,l.jsx)(n.Provider,{value:{user:s,setUser:t,loading:o},children:r})},o=()=>(0,a.useContext)(n)},28661:(e,r,s)=>{s.d(r,{A:()=>b,g:()=>u});var l=s(95155),a=s(99472),d=s(44128),n=s(50228),t=s(80968),o=s(16304),c=s(51935),i=s(70567),x=s(93709),m=s(77411);function b(e){var r,s,m,b,u,h;let{formData:p,onClose:N,onReset:j,approvers:v}=e,{data:g=[]}=(0,x.In)(),{data:y}=(0,x.XU)(),{mutate:f}=(0,d.Au)(),E=null!=(s=null==y?void 0:y.find(e=>e.id===(null==p?void 0:p.requestToId)))?s:null,A=g.find(e=>e.id===(null==p?void 0:p.requestFromId));return(0,l.jsxs)("div",{className:"max-h-[70vh] overflow-y-auto px-4 py-8",children:[(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center font-extrabold text-xl",children:[(0,l.jsx)("h1",{children:null!=(m=null==A?void 0:A.companyName)?m:""}),(0,l.jsxs)("h1",{children:[null!=(b=null==A?void 0:A.branchName)?b:""," "]}),(0,l.jsx)("h2",{className:"mt-8",children:"TRANSMITTAL MEMO"})]}),(0,l.jsxs)("div",{className:"font-bold mt-10 w-9/12",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 place-content-around px-1",children:[(0,l.jsx)("span",{children:"TO:"}),(0,l.jsx)("span",{children:null!=(u=null==E?void 0:E.name)?u:""})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 mt-2 px-1",children:[(0,l.jsx)("span",{children:"FROM:"}),(0,l.jsx)("span",{children:null!=(h=null==A?void 0:A.branchName)?h:""})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 mt-2 px-1",children:[(0,l.jsx)("span",{children:"DATE:"}),(0,l.jsx)("span",{children:(0,a.gl)(null==p?void 0:p.date)})]})]}),(0,l.jsx)("div",{className:"px-4 mt-8",children:(0,l.jsx)("p",{className:"indent-12",children:null==p?void 0:p.request_description})}),(0,l.jsxs)("div",{className:"px-4 mt-8",children:[null==p||null==(r=p.items_list)?void 0:r.map((e,r)=>(0,l.jsx)("div",{className:"border-b p-1 font-semibold text-justify",children:(0,l.jsx)("div",{children:e.item_name})},r)),(0,l.jsx)("div",{className:"px-4 mt-8",children:(0,l.jsx)("p",{className:"indent-12",children:null==p?void 0:p.request_note})})]}),(0,l.jsx)("div",{className:"mt-15 px-4",children:(0,l.jsx)(t.A,{approverList:v})}),(0,l.jsxs)("div",{className:"flex gap-x-4 w-full justify-end mt-6",children:[(0,l.jsx)(o.A,{label:"Submit with e signature",onClick:()=>{f(p,{onSuccess:()=>{n.A.successAlert("Saved","Form saved successfully"),null==j||j(),null==N||N()}})},variant:"success",icon:(0,l.jsx)(c.A,{})}),(0,l.jsx)(o.A,{label:"Close",variant:"danger",onClick:N,icon:(0,l.jsx)(i.A,{})})]})]})}function u(e){var r,s,d,n,t,o,c,i,x,b,u;let{mainRequest:h}=e;return(0,l.jsxs)("div",{className:" max-h-130 overflow-y-auto px-4 py-8",children:[(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center font-extrabold text-xl",children:[(0,l.jsx)("h1",{className:"text-center",children:null!=(i=null==h?void 0:h.requestFrom.companyName)?i:""}),(0,l.jsx)("h1",{className:"text-center mt-4 sm:mt-1",children:null!=(x=null==h?void 0:h.requestFrom.branchName)?x:""}),(0,l.jsx)("h2",{className:"mt-8",children:"TRANSMITTAL MEMO"})]}),(0,l.jsxs)("div",{className:"font-bold mt-10 w-9/12 text-[.6rem] sm:text-base",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 place-content-around px-1",children:[(0,l.jsx)("span",{children:"TO:"}),(0,l.jsx)("span",{children:null!=(b=null==h||null==(s=h.transmittalMemo)||null==(r=s.requestTo)?void 0:r.name)?b:""})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 mt-2 px-1",children:[(0,l.jsx)("span",{children:"FROM:"}),(0,l.jsx)("span",{children:null!=(u=null==h?void 0:h.requestFrom.branchName)?u:""})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 mt-2 px-1",children:[(0,l.jsx)("span",{children:"DATE:"}),(0,l.jsx)("span",{children:(0,a.gl)(null==h||null==(d=h.transmittalMemo)?void 0:d.date)})]})]}),(0,l.jsx)("div",{className:"px-4 mt-8 text-[.6rem] sm:text-base",children:(0,l.jsx)("p",{className:"sm:indent-12 indent-8 text-justify",children:null==h||null==(n=h.transmittalMemo)?void 0:n.request_description})}),(0,l.jsxs)("div",{className:"sm:px-4 sm:mt-8 sm:text-base text-[.6rem] mt-4",children:[null==h||null==(o=h.transmittalMemo)||null==(t=o.items_list)?void 0:t.map((e,r)=>(0,l.jsx)("div",{className:"border-b p-1 text-justify",children:(0,l.jsx)("div",{children:e.item_name})},r)),(0,l.jsx)("div",{className:"px-4 mt-8",children:(0,l.jsx)("p",{className:"sm:indent-12 indent-8 text-justify",children:null==h||null==(c=h.transmittalMemo)?void 0:c.request_note})})]}),(0,l.jsx)("div",{className:"mt-10",children:(0,l.jsx)(m.A,{requestData:h,approverList:null==h?void 0:h.approval})})]})}},31886:(e,r,s)=>{s.d(r,{A:()=>d});var l=s(23464),a=s(49509);let d=l.A.create({baseURL:"".concat(a.env.NEXT_PUBLIC_APP_URL,"/api"),withCredentials:!0})},38849:(e,r,s)=>{s.d(r,{A:()=>u,I:()=>h});var l=s(95155),a=s(51935),d=s(70567),n=s(16304),t=s(93709),o=s(41457),c=s(44128),i=s(50228),x=s(99472),m=s(80968),b=s(77411);function u(e){var r,s,b,u,h,p,N,j,v,g,y,f,E,A,_;let{formData:T,onClose:O,onReset:S,approvers:w}=e,{data:R=[]}=(0,t.In)(),{mutate:I}=(0,c.qW)(),F=R.find(e=>e.id===(null==T?void 0:T.requestFromId)),P=null!=(y=null==T||null==(r=T.travel_details_list)?void 0:r.reduce((e,r)=>e+(Number(r.amount)||0),0))?y:0,L=null!=(f=null==T||null==(s=T.computation_list)?void 0:s.reduce((e,r)=>e+(Number(r.kilometers_consume)||0),0))?f:0,D=null!=(E=null==T||null==(b=T.computation_list)?void 0:b.reduce((e,r)=>e+(Number(r.gas_liter_consume)||0),0))?E:0,C=Number(null==T?void 0:T.approved_budget)-P,q=null!=(A=null==T?void 0:T.breakdown_expenses_list)?A:[],M=null!=(_=null==T||null==(u=T.breakdown_expenses_list)?void 0:u.map(e=>(Number(e.transpo)||0)+(Number(e.fuel)||0)+(Number(e.meals)||0)+(Number(e.accomodation)||0)))?_:[],U=q.map(e=>(Number(e.transpo)||0)+(Number(e.fuel)||0)+(Number(e.meals)||0)+(Number(e.accomodation)||0)),k=q.reduce((e,r)=>e+(Number(r.transpo)||0),0),B=q.reduce((e,r)=>e+(Number(r.fuel)||0),0),K=q.reduce((e,r)=>e+(Number(r.meals)||0),0),G=q.reduce((e,r)=>e+(Number(r.accomodation)||0),0),H=U.reduce((e,r)=>e+r,0);return(0,l.jsxs)("div",{className:"py-4  max-h-[70vh] overflow-y-auto relative",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h2",{className:"font-extrabold text-2xl",children:null==F?void 0:F.companyName}),(0,l.jsx)("h2",{className:"font-bold",children:"TRAVELLING LIQUIDATION SUMMARY"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-2 w-full max-w-lg mt-10 items-start",children:[(0,l.jsx)("span",{className:"font-bold",children:"NAME:"}),(0,l.jsx)("span",{children:null==T?void 0:T.name}),(0,l.jsx)("span",{className:"font-bold",children:"TRIP TICKET #:"}),(0,l.jsx)("span",{children:null==T?void 0:T.trip_ticket_number}),(0,l.jsx)("span",{className:"font-bold",children:"DESTINATION:"}),(0,l.jsx)("div",{className:"flex flex-col",children:null==T||null==(h=T.destination_list)?void 0:h.map((e,r)=>(0,l.jsx)("p",{className:"leading-relaxed",children:e.destination_name},r))}),(0,l.jsx)("span",{className:"font-bold",children:"APPROVED BUDGET:"}),(0,l.jsx)("span",{children:(0,o.u)(null==T?void 0:T.approved_budget)})]}),(0,l.jsx)("div",{className:"mt-8",children:(0,l.jsxs)("table",{className:"w-full border border-gray-600 text-center",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-2 border border-gray-300 bg-gray-200",children:"DATE"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300 bg-gray-200",children:"DAY"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300 bg-gray-200",children:"FROM"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300 bg-gray-200",children:"TO"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300 bg-gray-200",children:"TRANSPORTATION & SERVICES"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300 bg-gray-200",children:"OR NUMBER"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300 bg-gray-200",children:"AMOUNT"})]})}),(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{colSpan:5,className:"border border-gray-300 bg-yellow-200 p-1 font-bold",children:"APPROVED BUDGET"}),(0,l.jsx)("td",{className:"border border-gray-300 bg-yellow-200 p-1"}),(0,l.jsx)("td",{className:"border border-gray-300 bg-yellow-200 p-1 font-bold",children:(0,o.u)(null==T?void 0:T.approved_budget)})]}),null==T||null==(p=T.travel_details_list)?void 0:p.map((e,r)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:(0,x.gl)(e.date)}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.day}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.from}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.to}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.transportation_services}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.or_number}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.amount})]},r)),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{colSpan:5,className:"border border-gray-300 p-1 "}),(0,l.jsx)("td",{className:"border border-gray-300 p-1 font-bold",children:"TO REPLENISHED"}),(0,l.jsx)("td",{className:"border border-gray-300 p-1 font-bold",children:(0,o.u)(P)})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{colSpan:6,className:"border border-gray-300"}),(0,l.jsx)("td",{className:"border border-gray-300 font-bold",children:(0,o.u)(C)})]})]})]})}),(0,l.jsx)("div",{className:"mt-8",children:(0,l.jsx)("h2",{className:"font-bold",children:"COMPUTATION"})}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsxs)("table",{className:"w-full border border-gray-600 text-center",children:[(0,l.jsxs)("thead",{children:[(0,l.jsx)("tr",{children:(0,l.jsxs)("th",{colSpan:8,className:"p-1 border border-gray-300 bg-yellow-200",children:[(0,x.gl)(null==T?void 0:T.computation_date_from)," to ",(0,x.gl)(null==T?void 0:T.computation_date_to)]})}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-2 border border-gray-400",rowSpan:2,children:"BRANCH"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",rowSpan:2,children:"DATE"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",colSpan:2,children:"ODOMETER READING"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"KILOMETERS"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"CONSUMPTION"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"GAS-LITER"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"GAS PRICE"})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"BEG"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"ENDING"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"CONSUME"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"KM/PER LITER"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"CONSUME"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"PER LITER"})]})]}),(0,l.jsxs)("tbody",{children:[null==T||null==(N=T.computation_list)?void 0:N.map((e,r)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.branch_name}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:(0,x.gl)(e.computation_date)}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.beg}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.ending}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.kilometers_consume}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.consumption_km}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.gas_liter_consume.toFixed(2)}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.gas_price_per_liter})]},r)),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{colSpan:4,className:"p-1 border border-gray-300",children:"TOTAL KILOMETER"}),(0,l.jsx)("td",{className:"border border-gray-300",children:L}),(0,l.jsx)("td",{className:"border border-gray-300"}),(0,l.jsx)("td",{className:"border border-gray-300",children:D.toFixed(2)}),(0,l.jsx)("td",{className:"border border-gray-300"})]})]})]})}),(0,l.jsx)("div",{className:"mt-8",children:(0,l.jsx)("h2",{className:"font-bold",children:"GAS EXPENSE"})}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsxs)("table",{className:"w-full border border-gray-600 text-center",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"DATE"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"BRANCH"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"AMOUNT"})]})}),(0,l.jsxs)("tbody",{children:[null==T||null==(j=T.computation_list)?void 0:j.map((e,r)=>{let s=e.gas_liter_consume*e.gas_price_per_liter;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:(0,x.gl)(e.computation_date)}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.branch_name}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:Number(s.toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})})]},r)}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300 font-semibold",colSpan:2,children:"TOTAL GAS EXPENSE"}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300 font-semibold",children:Number(null==T||null==(v=T.computation_list)?void 0:v.reduce((e,r)=>e+r.gas_liter_consume*r.gas_price_per_liter,0).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})})]})]})]})}),(0,l.jsx)("div",{className:"mt-8",children:(0,l.jsx)("h2",{className:"font-bold",children:"BREAKDOWN OF EXPENSES FOR BRANCHES"})}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsxs)("table",{className:"w-full border border-gray-600 text-center",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"BRANCH"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"TRANSPO"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"FUEL"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"MEALS"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"ACCOMODATION"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"TOTAL"})]})}),(0,l.jsxs)("tbody",{children:[null==T||null==(g=T.breakdown_expenses_list)?void 0:g.map((e,r)=>{var s;let a=null!=(s=M[r])?s:0;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.branch_name}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.transpo}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.fuel}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.meals}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.accomodation}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300 font-semibold",children:(0,o.u)(a)})]},r)}),(0,l.jsxs)("tr",{className:"font-bold bg-gray-100",children:[(0,l.jsx)("td",{className:"border border-gray-300 p-1",children:"TOTAL"}),(0,l.jsx)("td",{className:"border border-gray-300 p-1",children:(0,o.u)(k)}),(0,l.jsx)("td",{className:"border border-gray-300 p-1",children:(0,o.u)(B)}),(0,l.jsx)("td",{className:"border border-gray-300 p-1",children:(0,o.u)(K)}),(0,l.jsx)("td",{className:"border border-gray-300 p-1",children:(0,o.u)(G)}),(0,l.jsx)("td",{className:"border border-gray-300 p-1",children:(0,o.u)(H)})]})]})]})}),(0,l.jsx)("div",{className:"mt-15 px-4",children:(0,l.jsx)(m.A,{approverList:w})}),(0,l.jsxs)("div",{className:"flex gap-x-4 w-full justify-end mt-6",children:[(0,l.jsx)(n.A,{label:"Submit with e signature",variant:"success",onClick:()=>{I(T,{onSuccess:()=>{i.A.successAlert("Saved","Form saved successfully"),null==S||S(),null==O||O()}})},icon:(0,l.jsx)(a.A,{})}),(0,l.jsx)(n.A,{label:"Close",variant:"danger",onClick:O,icon:(0,l.jsx)(d.A,{})})]})]})}function h(e){var r,s,a,d,n,t,c,i,m,u,h,p,N,j,v,g,y,f,E,A,_,T,O,S,w,R,I,F,P,L,D,C,q,M;let{mainRequest:U}=e,k=null!=(P=null==U||null==(s=U.formFSMTravelLiquidation)||null==(r=s.travel_details_list)?void 0:r.reduce((e,r)=>e+(Number(r.amount)||0),0))?P:0,B=null!=(L=null==U||null==(d=U.formFSMTravelLiquidation)||null==(a=d.computation_list)?void 0:a.reduce((e,r)=>e+(Number(r.kilometers_consume)||0),0))?L:0,K=null!=(D=null==U||null==(t=U.formFSMTravelLiquidation)||null==(n=t.computation_list)?void 0:n.reduce((e,r)=>e+(Number(r.gas_liter_consume)||0),0))?D:0,G=Number(null==U||null==(c=U.formFSMTravelLiquidation)?void 0:c.approved_budget)-k,H=null!=(C=null==U||null==(i=U.formFSMTravelLiquidation)?void 0:i.breakdown_expenses_list)?C:[],Y=null!=(q=null==U||null==(u=U.formFSMTravelLiquidation)||null==(m=u.breakdown_expenses_list)?void 0:m.map(e=>(Number(e.transpo)||0)+(Number(e.fuel)||0)+(Number(e.meals)||0)+(Number(e.accomodation)||0)))?q:[],V=H.map(e=>(Number(e.transpo)||0)+(Number(e.fuel)||0)+(Number(e.meals)||0)+(Number(e.accomodation)||0)),X=H.reduce((e,r)=>e+(Number(r.transpo)||0),0),Q=H.reduce((e,r)=>e+(Number(r.fuel)||0),0),W=H.reduce((e,r)=>e+(Number(r.meals)||0),0),z=H.reduce((e,r)=>e+(Number(r.accomodation)||0),0),$=V.reduce((e,r)=>e+r,0);return(0,l.jsxs)("div",{className:"max-h-[70vh] overflow-y-auto px-10 py-8",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h2",{className:"font-extrabold text-lg sm:text-2xl",children:null!=(M=null==U?void 0:U.requestFrom.companyName)?M:""}),(0,l.jsx)("h2",{className:"font-bold mt-4 sm:mt-1",children:"TRAVELLING LIQUIDATION SUMMARY"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-2 w-full max-w-lg mt-10 items-start text-[.6rem] sm:text-base",children:[(0,l.jsx)("span",{className:"font-bold",children:"NAME:"}),(0,l.jsx)("span",{children:null==U||null==(h=U.formFSMTravelLiquidation)?void 0:h.name}),(0,l.jsx)("span",{className:"font-bold",children:"TRIP TICKET #:"}),(0,l.jsx)("span",{children:null==U||null==(p=U.formFSMTravelLiquidation)?void 0:p.trip_ticket_number}),(0,l.jsx)("span",{className:"font-bold",children:"DESTINATION:"}),(0,l.jsx)("div",{className:"flex flex-col w-[12rem] sm:w-12/12",children:null==U||null==(j=U.formFSMTravelLiquidation)||null==(N=j.destination_list)?void 0:N.map((e,r)=>(0,l.jsx)("p",{className:"leading-relaxed",children:e.destination_name},r))}),(0,l.jsx)("span",{className:"font-bold",children:"APPROVED BUDGET:"}),(0,l.jsx)("span",{children:(0,o.u)(null==U||null==(v=U.formFSMTravelLiquidation)?void 0:v.approved_budget)})]}),(0,l.jsx)("div",{className:"mt-8 text-[.6rem] sm:text-base",children:(0,l.jsxs)("table",{className:"w-full border border-gray-600 text-center",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-2 border border-gray-300 bg-gray-200",children:"DATE"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300 bg-gray-200",children:"DAY"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300 bg-gray-200",children:"FROM"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300 bg-gray-200",children:"TO"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300 bg-gray-200",children:"TRANSPORTATION & SERVICES"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300 bg-gray-200",children:"OR NUMBER"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300 bg-gray-200",children:"AMOUNT"})]})}),(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{colSpan:5,className:"border border-gray-300 bg-yellow-200 p-1 font-bold",children:"APPROVED BUDGET"}),(0,l.jsx)("td",{className:"border border-gray-300 bg-yellow-200 p-1"}),(0,l.jsx)("td",{className:"border border-gray-300 bg-yellow-200 p-1 font-bold",children:(0,o.u)(null==U||null==(g=U.formFSMTravelLiquidation)?void 0:g.approved_budget)})]}),null==U||null==(f=U.formFSMTravelLiquidation)||null==(y=f.travel_details_list)?void 0:y.map((e,r)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:(0,x.gl)(e.date)}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.day}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.from}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.to}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.transportation_services}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.or_number}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.amount})]},r)),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{colSpan:5,className:"border border-gray-300 p-1 "}),(0,l.jsx)("td",{className:"border border-gray-300 p-1 font-bold",children:"TO REPLENISHED"}),(0,l.jsx)("td",{className:"border border-gray-300 p-1 font-bold",children:(0,o.u)(k)})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{colSpan:6,className:"border border-gray-300"}),(0,l.jsx)("td",{className:"border border-gray-300 font-bold",children:(0,o.u)(G)})]})]})]})}),(0,l.jsx)("div",{className:"mt-8 text-[.6rem] sm:text-base",children:(0,l.jsx)("h2",{className:"font-bold",children:"COMPUTATION"})}),(0,l.jsx)("div",{className:"mt-2 text-[.6rem] sm:text-base",children:(0,l.jsxs)("table",{className:"w-full border border-gray-600 text-center",children:[(0,l.jsxs)("thead",{children:[(0,l.jsx)("tr",{children:(0,l.jsxs)("th",{colSpan:8,className:"p-1 border border-gray-300 bg-yellow-200",children:[(0,x.gl)(null==U||null==(E=U.formFSMTravelLiquidation)?void 0:E.computation_date_from)," to ",(0,x.gl)(null==U||null==(A=U.formFSMTravelLiquidation)?void 0:A.computation_date_to)]})}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-2 border border-gray-400",rowSpan:2,children:"BRANCH"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",rowSpan:2,children:"DATE"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",colSpan:2,children:"ODOMETER READING"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"KILOMETERS"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"CONSUMPTION"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"GAS-LITER"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"GAS PRICE"})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"BEG"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"ENDING"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"CONSUME"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"KM/PER LITER"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"CONSUME"}),(0,l.jsx)("th",{className:"p-2 border border-gray-400",children:"PER LITER"})]})]}),(0,l.jsxs)("tbody",{children:[null==U||null==(T=U.formFSMTravelLiquidation)||null==(_=T.computation_list)?void 0:_.map((e,r)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.branch_name}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:(0,x.gl)(e.computation_date)}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.beg}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.ending}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.kilometers_consume}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.consumption_km}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.gas_liter_consume.toFixed(2)}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.gas_price_per_liter})]},r)),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{colSpan:4,className:"p-1 border border-gray-300",children:"TOTAL KILOMETERS"}),(0,l.jsx)("td",{className:"border border-gray-300",children:B}),(0,l.jsx)("td",{className:"border border-gray-300"}),(0,l.jsx)("td",{className:"border border-gray-300",children:K.toFixed(2)}),(0,l.jsx)("td",{className:"border border-gray-300"})]})]})]})}),(0,l.jsx)("div",{className:"mt-8 text-[.6rem] sm:text-base",children:(0,l.jsx)("h2",{className:"font-bold",children:"GAS EXPENSE"})}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsxs)("table",{className:"w-full border border-gray-600 text-center",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"DATE"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"BRANCH"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"AMOUNT"})]})}),(0,l.jsxs)("tbody",{children:[null==U||null==(S=U.formFSMTravelLiquidation)||null==(O=S.computation_list)?void 0:O.map((e,r)=>{let s=e.gas_liter_consume*e.gas_price_per_liter;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:(0,x.gl)(e.computation_date)}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.branch_name}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:Number(s.toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})})]},r)}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300 font-semibold",colSpan:2,children:"TOTAL GAS EXPENSE"}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300 font-semibold",children:Number(null==U||null==(R=U.formFSMTravelLiquidation)||null==(w=R.computation_list)?void 0:w.reduce((e,r)=>e+r.gas_liter_consume*r.gas_price_per_liter,0).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})})]})]})]})}),(0,l.jsx)("div",{className:"mt-8 text-[.6rem] sm:text-base",children:(0,l.jsx)("h2",{className:"font-bold",children:"BREAKDOWN OF EXPENSES FOR BRANCHES"})}),(0,l.jsx)("div",{className:"mt-2 text-[.6rem] sm:text-base",children:(0,l.jsxs)("table",{className:"w-full border border-gray-600 text-center",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"BRANCH"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"TRANSPO"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"FUEL"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"MEALS"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"ACCOMODATION"}),(0,l.jsx)("th",{className:"p-2 border border-gray-300",children:"TOTAL"})]})}),(0,l.jsxs)("tbody",{children:[null==U||null==(F=U.formFSMTravelLiquidation)||null==(I=F.breakdown_expenses_list)?void 0:I.map((e,r)=>{var s;let a=null!=(s=Y[r])?s:0;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.branch_name}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.transpo}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.fuel}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.meals}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300",children:e.accomodation}),(0,l.jsx)("td",{className:"bg-white p-2 border border-gray-300 font-semibold",children:(0,o.u)(a)})]},r)}),(0,l.jsxs)("tr",{className:"font-bold bg-gray-100",children:[(0,l.jsx)("td",{className:"border border-gray-300 p-1",children:"TOTAL"}),(0,l.jsx)("td",{className:"border border-gray-300 p-1",children:(0,o.u)(X)}),(0,l.jsx)("td",{className:"border border-gray-300 p-1",children:(0,o.u)(Q)}),(0,l.jsx)("td",{className:"border border-gray-300 p-1",children:(0,o.u)(W)}),(0,l.jsx)("td",{className:"border border-gray-300 p-1",children:(0,o.u)(z)}),(0,l.jsx)("td",{className:"border border-gray-300 p-1",children:(0,o.u)($)})]})]})]})}),(0,l.jsx)("div",{className:"mt-10",children:(0,l.jsx)(b.A,{requestData:U,approverList:null==U?void 0:U.approval})})]})}},41457:(e,r,s)=>{s.d(r,{u:()=>l});let l=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(null!=e?e:0)},44128:(e,r,s)=>{s.d(r,{sy:()=>m,YR:()=>N,qW:()=>h,Fo:()=>v,tH:()=>x,xY:()=>u,FA:()=>b,Q5:()=>c,Au:()=>i,R2:()=>o,WB:()=>j,c3:()=>p,kr:()=>g,bv:()=>f,vJ:()=>y});var l=s(15375);s(31886);var a=s(94469),d=s(32960),n=s(26715);let t=["approvals"],o=()=>(0,l.as)({mutationFn:e=>(0,a.ys)("/add-travel-form",e),queryKey:t}),c=()=>(0,l.as)({mutationFn:e=>(0,a.ys)("/add-proposed-budget",e),queryKey:t}),i=()=>(0,l.as)({mutationFn:e=>(0,a.ys)("/add-transmittal-memo",e),queryKey:t}),x=()=>(0,l.as)({mutationFn:e=>(0,a.ys)("/add-OSRequisition",e),queryKey:t}),m=()=>(0,l.as)({mutationFn:e=>(0,a.ys)("/add-FFEPurchasing",e),queryKey:t}),b=()=>(0,l.as)({mutationFn:e=>(0,a.ys)("/add-pre-sign",e),queryKey:t}),u=()=>(0,l.as)({mutationFn:e=>(0,a.ys)("/add-past-due-endorsement",e),queryKey:t}),h=()=>(0,l.as)({mutationFn:e=>(0,a.ys)("/add-fsm-travel-liquidation",e),queryKey:t}),p=()=>(0,l.as)({mutationFn:e=>(0,a.ys)("/add-weekly-itinerary-deviation",e),queryKey:t}),N=()=>(0,l.as)({mutationFn:e=>(0,a.ys)("/add-fsm-itinerary",e),queryKey:t}),j=()=>(0,l.as)({mutationFn:e=>(0,a.ys)("/add-travel-order-liquidation",e),queryKey:t}),v=()=>(0,l.as)({mutationFn:e=>(0,a.ys)("/add-OSPurchasing",e),queryKey:t}),g=e=>(0,d.I)({queryKey:["branchDocumentNumber",e],queryFn:()=>(0,a.bQ)("/fetch-branch-doc-num/".concat(e)),enabled:!!e}),y=()=>{let e=(0,n.jE)();return(0,l.as)({mutationFn:e=>(0,a.ys)("/request/save-supplier",e),queryKey:["supplier"],onSuccess:(r,s)=>{e.invalidateQueries({queryKey:["suppliers",s.branchId]})}})},f=e=>(0,d.I)({queryKey:["suppliers",e],queryFn:()=>(0,a.bQ)("/request/fetch-suppliers/".concat(e)),enabled:!!e})},50228:(e,r,s)=>{s.d(r,{A:()=>d});var l=s(24752),a=s.n(l);let d={successAlert:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Success",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return a().fire({title:e,text:r,icon:"success",confirmButtonText:"OK",confirmButtonColor:"#3085d6"})},successAlertFunction:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Success",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0;return a().fire({title:e,text:r,icon:"success",confirmButtonText:"OK",confirmButtonColor:"#3085d6"}).then(e=>{(e.isConfirmed&&"function"==typeof s||e.isDismissed)&&(s(),l())})},warningAlert:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Warning",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return a().fire({title:e,text:r,icon:"warning",showCancelButton:!0,confirmButtonText:"OK",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"})},errorAlert:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Error",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return a().fire({title:e,text:r,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#d33"})},confirmationAlert:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Are you sure?",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2?arguments[2]:void 0;return a().fire({title:e,html:r,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then(e=>{e.isConfirmed&&"function"==typeof s&&s()})}}},51935:(e,r,s)=>{s.d(r,{A:()=>d});var l=s(28322),a=s(95155);let d=(0,l.A)((0,a.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},54384:(e,r,s)=>{s.d(r,{A:()=>b,r:()=>u});var l=s(95155),a=s(99472),d=s(44128),n=s(50228),t=s(93709),o=s(51935),c=s(70567),i=s(16304),x=s(80968),m=s(77411);function b(e){var r,s,m,b,u;let{formData:h,onClose:p,onReset:N,approvers:j}=e,{mutate:v}=(0,d.tH)(),{data:g=[]}=(0,t.In)(),{data:y}=(0,t.XU)(),f=g.find(e=>e.id===(null==h?void 0:h.requestFromId)),E=null!=(m=null==y?void 0:y.find(e=>e.id===(null==h?void 0:h.requestToId)))?m:null;return(0,l.jsxs)("div",{className:"max-h-[70vh] overflow-y-auto px-20 py-8",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h2",{className:"text-xl font-extrabold",children:null==f?void 0:f.companyName}),(0,l.jsx)("h2",{className:"text-lg font-bold",children:null==f?void 0:f.address}),(0,l.jsx)("h1",{className:"mt-8 font-black text-xl",children:"OFFICE SUPPLIES REQUISITION FORM"})]}),(0,l.jsxs)("div",{className:"flex flex-row justify-between mt-8 w-10/12 mx-auto",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"font-bold",children:["TO: ",(0,l.jsx)("span",{className:"font-semibold",children:null!=(b=null==E?void 0:E.name)?b:""})]}),(0,l.jsxs)("div",{className:"font-bold",children:["FROM: ",(0,l.jsx)("span",{className:"font-semibold",children:null==h?void 0:h.from_name})]})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"font-bold",children:["DATE: ",(0,l.jsx)("span",{className:"font-semibold",children:(0,a.gl)(null==h?void 0:h.date)})]}),(0,l.jsxs)("div",{className:"font-bold",children:["BRANCH:  ",(0,l.jsx)("span",{className:"font-semibold",children:null!=(u=null==f?void 0:f.branchName)?u:""})]})]})]}),(0,l.jsx)("div",{className:"mt-8 w-10/12 mx-auto",children:(0,l.jsx)("p",{className:"indent-12",children:null==h?void 0:h.request_description})}),(0,l.jsx)("div",{className:"mt-8 w-10/12 border border-gray-200 rounded-md mx-auto overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full text-xs border-collapse border border-gray-300",children:[(0,l.jsx)("thead",{className:"bg-gray-100",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"Description"}),(0,l.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"Quantity"}),(0,l.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"Last Request Date"}),(0,l.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"Allocation"}),(0,l.jsx)("th",{className:"px-3 py-2 border border-gray-300",children:"Remarks"})]})}),(0,l.jsx)("tbody",{children:null==h||null==(r=h.items)?void 0:r.map((e,r)=>{var s;return(0,l.jsxs)("tr",{className:"odd:bg-white even:bg-gray-50",children:[(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.item_description}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.quantity}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:null!=(s=e.date_of_last_request)?s:"NA"}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.allocation}),(0,l.jsx)("td",{className:"px-3 py-2 border border-gray-300",children:e.remarks})]},r)})})]})}),(0,l.jsx)("div",{className:"mt-10",children:(0,l.jsx)("h2",{className:"text-center font-extrabold text-xl",children:"OFFICE SUPPLIES INVENTORY"})}),(0,l.jsxs)("table",{className:"border border-gray-300 w-full rounded-lg text-xs mt-8",children:[(0,l.jsxs)("thead",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"border border-gray-300 p-1",rowSpan:2,children:"Description"}),(0,l.jsx)("th",{className:"border border-gray-300",rowSpan:2,children:"Unit"}),(0,l.jsx)("th",{className:"border border-gray-300 p-1",colSpan:3,children:"Quantity"}),(0,l.jsx)("th",{className:"border border-gray-300",rowSpan:2,children:"Remarks"}),(0,l.jsx)("th",{className:"border border-gray-300",rowSpan:2,children:"Check"})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-1 border border-gray-300",children:"Beginning"}),(0,l.jsx)("th",{className:"p-1 border border-gray-300",children:"Ending"}),(0,l.jsx)("th",{className:"p-1 border border-gray-300",children:"Utilized"})]})]}),(0,l.jsx)("tbody",{children:null==h||null==(s=h.inventory_data)?void 0:s.slice().sort((e,r)=>{var s,l;return(null!=(s=e.inventory_description)?s:"").localeCompare(null!=(l=r.inventory_description)?l:"")}).map((e,r)=>{var s,a,d,n,t,o;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"p-1 border border-gray-300 text-center",children:null!=(s=e.inventory_description)?s:""}),(0,l.jsx)("td",{className:"p-1 border border-gray-300 text-center",children:null!=(a=e.unit)?a:""}),(0,l.jsx)("td",{className:"p-1 border border-gray-300 text-center",children:null!=(d=e.beginning)?d:""}),(0,l.jsx)("td",{className:"p-1 border border-gray-300 text-center",children:null!=(n=e.ending)?n:""}),(0,l.jsx)("td",{className:"p-1 border border-gray-300 text-center",children:null!=(t=e.utilized)?t:""}),(0,l.jsx)("td",{className:"p-1 border border-gray-300 text-center",children:null!=(o=e.remarks)?o:""}),(0,l.jsx)("td",{className:"p-1 border border-gray-300 text-center",children:e.checkbox?"✔":""})]},r)})})]}),(0,l.jsx)("div",{className:"mt-15",children:(0,l.jsx)(x.A,{approverList:j})}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-8",children:[(0,l.jsx)(i.A,{label:"Submit with e signature",onClick:()=>{v(h,{onSuccess:()=>{n.A.successAlert("Saved","Form saved successfully"),null==N||N(),null==p||p()}})},variant:"success",icon:(0,l.jsx)(o.A,{})}),(0,l.jsx)(i.A,{label:"Close",variant:"danger",onClick:p,icon:(0,l.jsx)(c.A,{})})]})]})}function u(e){var r,s,d,n,t,o,c,i,x,b;let{mainRequest:u}=e;return(0,l.jsxs)("div",{className:"max-h-[70vh] overflow-y-auto px-4 py-8",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h2",{className:"text-xl font-extrabold",children:null==u?void 0:u.requestFrom.companyName}),(0,l.jsx)("h2",{className:"text-lg font-bold",children:null==u?void 0:u.requestFrom.address}),(0,l.jsx)("h1",{className:"mt-8 font-black text-md md:text-xl",children:"OFFICE SUPPLIES REQUISITION FORM"})]}),(0,l.jsxs)("div",{className:"flex flex-row justify-between mt-8 w-12/12 md:w-10/12 mx-auto text-[.6rem] md:text-base",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"font-bold",children:["TO: ",(0,l.jsx)("span",{className:"font-semibold",children:null!=(x=null==u||null==(s=u.OSRequisitionForm)||null==(r=s.requestTo)?void 0:r.name)?x:""})]}),(0,l.jsxs)("div",{className:"font-bold",children:["FROM: ",(0,l.jsx)("span",{className:"font-semibold",children:null==u||null==(d=u.OSRequisitionForm)?void 0:d.from_name})]})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"font-bold",children:["DATE: ",(0,l.jsx)("span",{className:"font-semibold",children:(0,a.gl)(null==u||null==(n=u.OSRequisitionForm)?void 0:n.date)})]}),(0,l.jsxs)("div",{className:"font-bold",children:["BRANCH:  ",(0,l.jsx)("span",{className:"font-semibold",children:null!=(b=null==u?void 0:u.requestFrom.branchName)?b:""})]})]})]}),(0,l.jsx)("div",{className:"mt-8 w-[35rem] px-2 md:w-10/12 mx-auto",children:(0,l.jsx)("p",{className:"indent-10 text-justify md:indent-12 text-[.7rem] md:text-base",children:null==u||null==(t=u.OSRequisitionForm)?void 0:t.request_description})}),(0,l.jsx)("div",{className:"mt-8 w-10/12 border border-gray-200 rounded-md mx-auto",children:(null==u||null==(o=u.OSRequisitionForm)?void 0:o.table_data)&&(null==u||null==(c=u.OSRequisitionForm)?void 0:c.table_data.length)>0?(0,l.jsxs)("table",{className:"w-full border border-gray-300 text-[.6rem] md:text-sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"border border-gray-300 py-2 px-10 md:px-4 bg-gray-100 text-center",children:"Item Description"}),(0,l.jsx)("th",{className:"border border-gray-300 py-2 px-10 md:px-4 bg-gray-100 text-center",children:"Quantity"}),(0,l.jsx)("th",{className:"border border-gray-300 py-2 px-10 md:px-4 bg-gray-100 text-center",children:"Date of Last Request"}),(0,l.jsx)("th",{className:"border border-gray-300 py-2 px-10 md:px-4 bg-gray-100 text-center",children:"Allocation"}),(0,l.jsx)("th",{className:"border border-gray-300 py-2 px-10 md:px-4 bg-gray-100 text-center",children:"Remarks"})]})}),(0,l.jsx)("tbody",{children:u.OSRequisitionForm.table_data.map((e,r)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-center",children:e.item_description}),(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-center",children:e.quantity}),(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-center",children:e.date_of_last_request}),(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-center",children:e.allocation}),(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-center",children:e.remarks})]},r))})]}):(0,l.jsx)("p",{className:"text-center p-4 text-gray-500",children:"No data available"})}),(0,l.jsx)("div",{className:"mt-10",children:(0,l.jsx)("h2",{className:"text-center font-extrabold text-md md:text-xl",children:"OFFICE SUPPLIES INVENTORY"})}),(0,l.jsxs)("table",{className:"border border-gray-300 w-full rounded-lg text-[.7rem] md:text-xs mt-8",children:[(0,l.jsxs)("thead",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"border border-gray-300 p-1 px-10 md:px-2",rowSpan:2,children:"Description"}),(0,l.jsx)("th",{className:"border border-gray-300 px-10 md:px-2",rowSpan:2,children:"Unit"}),(0,l.jsx)("th",{className:"border border-gray-300 p-1 px-10 md:px-2",colSpan:3,children:"Quantity"}),(0,l.jsx)("th",{className:"border border-gray-300 px-10 md:px-2",rowSpan:2,children:"Remarks"}),(0,l.jsx)("th",{className:"border border-gray-300 px-10 md:px-2",rowSpan:2,children:"Check"})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-1 border border-gray-300",children:"Beginning"}),(0,l.jsx)("th",{className:"p-1 border border-gray-300",children:"Ending"}),(0,l.jsx)("th",{className:"p-1 border border-gray-300",children:"Utilized"})]})]}),(0,l.jsx)("tbody",{children:(null==u||null==(i=u.OSRequisitionForm)?void 0:i.OSInventoryForm)&&u.OSRequisitionForm.OSInventoryForm.length>0?u.OSRequisitionForm.OSInventoryForm.slice().sort((e,r)=>{var s,l;return(null!=(s=e.inventory_description)?s:"").localeCompare(null!=(l=r.inventory_description)?l:"")}).map((e,r)=>{var s,a,d,n,t,o;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"p-1 border border-gray-300 text-center",children:null!=(s=e.inventory_description)?s:""}),(0,l.jsx)("td",{className:"p-1 border border-gray-300 text-center",children:null!=(a=e.unit)?a:""}),(0,l.jsx)("td",{className:"p-1 border border-gray-300 text-center",children:null!=(d=e.beginning)?d:""}),(0,l.jsx)("td",{className:"p-1 border border-gray-300 text-center",children:null!=(n=e.ending)?n:""}),(0,l.jsx)("td",{className:"p-1 border border-gray-300 text-center",children:null!=(t=e.utilized)?t:""}),(0,l.jsx)("td",{className:"p-1 border border-gray-300 text-center",children:null!=(o=e.remarks)?o:""}),(0,l.jsx)("td",{className:"p-1 border border-gray-300 text-center",children:e.checkbox?"✔":""})]},r)}):(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:7,className:"text-center p-2 text-gray-500",children:"No inventory rows available"})})})]}),(0,l.jsx)("div",{className:"mt-10",children:(0,l.jsx)(m.A,{requestData:u,approverList:null==u?void 0:u.approval})})]})}},59284:(e,r,s)=>{s.d(r,{A:()=>u,j:()=>h});var l=s(95155),a=s(50228),d=s(99472),n=s(16304),t=s(51935),o=s(70567),c=s(44128),i=s(93709),x=s(80968),m=s(77411),b=s(41457);function u(e){var r,s,m,u;let{formData:h,onClose:p,onReset:N,approvers:j}=e,{mutate:v}=(0,c.R2)(),{data:g=[]}=(0,i.In)(),y=g.find(e=>e.id===(null==h?void 0:h.requestFromId));if(!h)return null;let{name:f,position:E,departure_date:A,current_date:_,purpose_of_travel:T,destination:O,report_to:S,expenses_allowed:w}=h;return(0,l.jsx)("div",{className:"py-4  max-h-[70vh] overflow-y-auto",children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("div",{className:"font-black text-xl sm:text-lg text-center",children:(0,l.jsxs)("h1",{children:[null!=(u=null==y?void 0:y.branchName)?u:"","  LENDING CORPORATION",(0,l.jsx)("br",{})," ",null==y?void 0:y.address]})}),(0,l.jsxs)("div",{className:"self-end mb-2 mt-4 mr-23",children:[(0,l.jsx)("span",{className:"font-bold",children:"Date: "}),(0,d.gl)(_)]}),(0,l.jsx)("div",{className:"mt-1",children:(0,l.jsx)("h5",{className:"text-center font-black text-2xl",children:"TRAVEL ORDER"})}),(0,l.jsxs)("div",{className:"max-w-3xl w-full mx-auto mt-6 ",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-x-4 border-gray-500 border-b pb-4 border-t pt-4",children:[(0,l.jsxs)("div",{className:"font-bold space-y-2 w-full sm:w-56",children:[(0,l.jsx)("h2",{children:"NAME:"}),(0,l.jsx)("h2",{children:"POSITION/DESIGNATION"}),(0,l.jsx)("h2",{children:"DEPARTURE DATE:"}),(0,l.jsx)("h2",{children:"DESTINATION:"}),(0,l.jsx)("h2",{children:"PURPOSE OF TRAVEL:"}),(0,l.jsx)("h2",{children:"REPORT TO:"}),(0,l.jsx)("h2",{children:"EXPENSES ALLOWED:"})]}),(0,l.jsxs)("div",{className:"font-semibold space-y-2 text-left flex-1",children:[(0,l.jsx)("h2",{children:f}),(0,l.jsx)("h2",{children:E}),(0,l.jsx)("h2",{children:(0,d.gl)(A)}),(0,l.jsx)("h2",{children:O}),(0,l.jsx)("h2",{children:T}),(0,l.jsx)("h2",{children:S}),(0,l.jsx)("h2",{children:w})]})]}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)("h2",{className:"font-bold",children:"ESTIMATED TRAVELLING EXPENSE BREAKDOWN:"})}),(0,l.jsx)("div",{className:"mt-4 w-12/12 border border-gray-200 rounded-md mx-auto",children:(null==h?void 0:h.rows)&&h.rows.length>0?(0,l.jsxs)("table",{className:"w-full border border-gray-300",children:[(0,l.jsx)("thead",{children:(0,l.jsx)("tr",{children:null==(r=h.headers)?void 0:r.map((e,r)=>(0,l.jsx)("th",{className:"border border-gray-300 p-2 bg-gray-100 text-xs text-center",children:e||"Column ".concat(r+1)},r))})}),(0,l.jsxs)("tbody",{children:[h.rows.map((e,r)=>(0,l.jsx)("tr",{children:e.map((e,r)=>(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-xs text-center",children:e},r))},r)),(0,l.jsx)("tr",{children:(0,l.jsx)("td",{className:"text-center p-1 font-bold",children:"TOTAL:"})}),(null==(s=h.totalsEnabled)?void 0:s.some(e=>e))&&(0,l.jsx)("tr",{children:null==h||null==(m=h.headers)?void 0:m.map((e,r)=>{var s,a;if(null==h||null==(s=h.totalsEnabled)?void 0:s[r]){let e=null==h||null==(a=h.rows)?void 0:a.reduce((e,s)=>{let l=parseFloat(s[r]);return e+(isNaN(l)?0:l)},0);return(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-xs text-center font-bold bg-gray-50",children:(0,b.u)(e)},r)}return(0,l.jsx)("td",{className:"border border-gray-300 p-2"},r)})})]})]}):(0,l.jsx)("p",{className:"text-center p-4 text-gray-500",children:"No data available"})}),(0,l.jsx)("div",{className:"mt-10",children:(0,l.jsx)(x.A,{approverList:j})})]}),(0,l.jsxs)("div",{className:"flex gap-x-4 w-full justify-end mt-10 pr-10",children:[(0,l.jsx)(n.A,{label:"Submit with e signature",onClick:()=>{v(h,{onSuccess:()=>{a.A.successAlert("Saved","Form saved successfully"),null==N||N(),null==p||p()}})},variant:"success",icon:(0,l.jsx)(t.A,{})}),(0,l.jsx)(n.A,{label:"Close",variant:"danger",onClick:p,icon:(0,l.jsx)(o.A,{})})]})]})})}function h(e){var r,s,a,n,t,o,c,i,x,u,h,p;let{mainRequest:N}=e;return(0,l.jsx)("div",{className:"py-1 px-2 max-h-130 overflow-y-auto",children:(0,l.jsxs)("div",{className:"flex flex-col p-4",children:[(0,l.jsx)("div",{className:"font-black text-xl sm:text-lg text-center",children:(0,l.jsxs)("h1",{children:[null==N?void 0:N.requestFrom.branchName," LENDING CORPORATION",(0,l.jsx)("br",{})," ",null==N?void 0:N.requestFrom.address]})}),(0,l.jsxs)("div",{className:"self-center md:self-end pr-4 sm:pr-6 md:pr-15 mt-4 sm:mt-6 text-center md:text-right",children:[(0,l.jsx)("span",{className:"font-bold",children:"DATE: "}),(0,d.gl)(null==N?void 0:N.travelOrder.current_date)]}),(0,l.jsx)("div",{className:"mt-4 sm:mt-6",children:(0,l.jsx)("h5",{className:"text-center font-black text-xl sm:text-lg underline",children:"TRAVEL ORDER"})}),(0,l.jsxs)("div",{className:"max-w-3xl w-full mx-auto mt-6 px-2",children:[(0,l.jsx)("div",{className:"w-full max-w-3xl mx-auto text-[11px] sm:text-[13px] leading-tight",children:[{label:"NAME",value:null==N?void 0:N.travelOrder.name},{label:"POSITION/DESIGNATION",value:null==N?void 0:N.travelOrder.position},{label:"DEPARTURE DATE",value:(0,d.gl)(null==N?void 0:N.travelOrder.departure_date)},{label:"DESTINATION",value:null==N?void 0:N.travelOrder.destination},{label:"PURPOSE OF TRAVEL",value:null==N?void 0:N.travelOrder.purpose_of_travel},{label:"REPORT TO",value:null==N?void 0:N.travelOrder.report_to},{label:"EXPENSES ALLOWED",value:null==N?void 0:N.travelOrder.expenses_allowed}].map((e,r)=>(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-x-2 py-1",children:[(0,l.jsxs)("p",{className:"font-bold whitespace-nowrap",children:[e.label,":"]}),(0,l.jsx)("p",{className:"font-semibold break-words sm:pl-2",children:e.value||"-"})]},r))}),(0,l.jsx)("div",{className:"mt-8 border-t border-gray-400 pt-4",children:(0,l.jsx)("h2",{className:"font-bold text-[.6rem] md:text-base",children:"ESTIMATED TRAVELLING EXPENSE BREAKDOWN:"})}),(0,l.jsx)("div",{className:"mt-4 w-12/12 rounded-md mx-auto text-[.6rem] md:text-base",children:(null==N||null==(s=N.travelOrder)||null==(r=s.table_data)?void 0:r.rows)&&(null==N||null==(n=N.travelOrder)||null==(a=n.table_data)?void 0:a.rows.length)>0?(0,l.jsxs)("table",{className:"w-full border border-gray-300",children:[(0,l.jsx)("thead",{children:(0,l.jsx)("tr",{children:null==N||null==(c=N.travelOrder)||null==(o=c.table_data)||null==(t=o.headers)?void 0:t.map((e,r)=>(0,l.jsx)("th",{className:"border border-gray-300 py-2 px-12 md:px-2 bg-gray-100 text-center",children:e||"Column ".concat(r+1)},r))})}),(0,l.jsxs)("tbody",{children:[null==N||null==(x=N.travelOrder)||null==(i=x.table_data)?void 0:i.rows.map((e,r)=>(0,l.jsx)("tr",{children:e.map((e,r)=>(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-center",children:e},r))},r)),(0,l.jsx)("tr",{children:null==N||null==(p=N.travelOrder)||null==(h=p.table_data)||null==(u=h.headers)?void 0:u.map((e,r)=>{var s,a,d;let n=null!=(d=null==N||null==(a=N.travelOrder)||null==(s=a.totalsEnabled)?void 0:s[r])?d:0;return 0===r?(0,l.jsx)("td",{className:"text-center p-1 font-bold border border-gray-300 bg-gray-50",children:"TOTAL:"},r):(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-center font-semibold",children:0!==n?(0,b.u)(n):""},r)})})]})]}):(0,l.jsx)("p",{className:"text-center p-4 text-gray-500",children:"No data available"})}),(0,l.jsx)("div",{className:"mt-10",children:(0,l.jsx)(m.A,{requestData:N,approverList:null==N?void 0:N.approval})})]})]})})}},60152:(e,r,s)=>{s.d(r,{Qg:()=>d,Te:()=>a});var l=s(13568);let a=e=>{let{message:r,position:s="bottom-right",duration:a=2e3}=e;return l.oR.success(r,{position:s,duration:a})},d=e=>{let{message:r,position:s="bottom-right"}=e;return l.oR.error(r,{position:s})}},70567:(e,r,s)=>{s.d(r,{A:()=>d});var l=s(28322),a=s(95155);let d=(0,l.A)((0,a.jsx)("path",{d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59 7.11 5.7a.996.996 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41s1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4"}),"CloseRounded")},72022:(e,r,s)=>{s.d(r,{A:()=>u,h:()=>h});var l=s(95155),a=s(51935),d=s(70567),n=s(16304),t=s(80968),o=s(93709),c=s(99472),i=s(44128),x=s(50228),m=s(41457),b=s(77411);function u(e){let{formData:r,onClose:s,onReset:b,approvers:u}=e,{data:h=[]}=(0,o.In)(),{mutate:p}=(0,i.xY)(),N=h.find(e=>e.id===(null==r?void 0:r.requestFromId)),j=[{label:"DATE ENDORSED:",value:(0,c.gl)(null==r?void 0:r.date_endorsed)},{label:"ID NO:",value:null==r?void 0:r.id_no},{label:"PENSIONER NAME:",value:null==r?void 0:r.name_of_pensioner},{label:"BANK:",value:null==r?void 0:r.bank},{label:"TYPE OF PENSION:",value:null==r?void 0:r.type_of_pension},{label:"AGE:",value:null==r?void 0:r.age},{label:"DATE IN:",value:null==r?void 0:r.date_in},{label:"FIRST COLLECTION EFFECTIVITY:",value:null==r?void 0:r.first_coll_effect},{label:"LAST TRANSACTION:",value:null==r?void 0:r.last_transaction},{label:"TRANSACTION TYPE:",value:null==r?void 0:r.transaction_type},{label:"NO. OF MONTHS OVERDUE:",value:null==r?void 0:r.no_of_months_overdue},{label:"WITH INSURANCE/ICOD:",value:null==r?void 0:r.with_insurance_icod},{label:"REASON FOR NO INSURANCE:",value:null==r?void 0:r.reason_for_no_insurance}],v=[{label:"REASON FOR NON-COLLECTION OF ACCOUNT",value:null==r?void 0:r.reason_for_non_coll_acc},{label:"CO-MAKER",value:null==r?void 0:r.co_maker},{label:"RELATION TO SSP",value:null==r?void 0:r.relation_to_ssp},{label:"CONTACT NUMBER",value:null==r?void 0:r.contact_number},{label:"COMPROMISE PAYMENT",value:null==r?void 0:r.compromise_payment},{label:"PAYMENT START",value:null==r?void 0:r.payment_start},{label:"ACTION TAKEN",value:null==r?void 0:r.action_taken}],g=(Number(null==r?void 0:r.total_lr)||0)+(Number(null==r?void 0:r.total_ap)||0),y=(Number(null==r?void 0:r.total_udi)||0)+(Number(null==r?void 0:r.total_ide)||0),f=(0,m.u)(g),E=(0,m.u)(y),A=g-y;return(0,l.jsxs)("div",{className:"py-4  max-h-[70vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h2",{className:"font-extrabold text-2xl",children:null==N?void 0:N.companyName}),(0,l.jsx)("h2",{className:"font-bold",children:"REQUEST FOR APPROVAL OF PAST DUE ENDORSEMENT"})]}),(0,l.jsx)("div",{className:"mt-10 pt-5 px-4 font-semibold space-y-2",children:j.map((e,r)=>(0,l.jsxs)("div",{className:"grid grid-cols-2",children:[(0,l.jsx)("span",{children:e.label}),(0,l.jsx)("span",{children:e.value||"—"})]},r))}),(0,l.jsxs)("div",{className:"mt-8 px-10 space-y-2",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2",children:[(0,l.jsx)("span",{children:"LOAN BALANCE AS OF"}),(0,l.jsx)("span",{children:(0,c.gl)(null==r?void 0:r.loan_balance_as_of)})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2",children:[(0,l.jsx)("span",{className:"ml-8",children:"TOTAL LR"}),(0,l.jsx)("span",{children:null==r?void 0:r.total_lr})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2",children:[(0,l.jsx)("span",{className:"ml-8",children:"TOTAL AP"}),(0,l.jsx)("span",{children:null==r?void 0:r.total_ap})]}),(0,l.jsxs)("div",{className:"flex justify-between border-t w-7/12 font-bold",children:[(0,l.jsx)("span",{className:"ml-8 mt-1",children:"TOTAL LOAN BALANCE"}),(0,l.jsx)("span",{className:"mr-4 mt-1",children:f})]})]}),(0,l.jsxs)("div",{className:"mt-4 px-10 space-y-2",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2",children:[(0,l.jsx)("span",{children:"LESS"}),(0,l.jsx)("span",{children:null==r?void 0:r.loan_balance_as_of})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2",children:[(0,l.jsx)("span",{className:"ml-8",children:"TOTAL UDI"}),(0,l.jsx)("span",{children:null==r?void 0:r.total_udi})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2",children:[(0,l.jsx)("span",{className:"ml-8",children:"TOTAL IDE"}),(0,l.jsx)("span",{children:null==r?void 0:r.total_ide})]}),(0,l.jsxs)("div",{className:"flex justify-between border-t w-7/12 font-bold",children:[(0,l.jsx)("span",{className:"ml-8 mt-1",children:"TOTAL"}),(0,l.jsx)("span",{className:"mr-4 mt-1",children:E})]}),(0,l.jsxs)("div",{className:"flex justify-between w-7/12 font-bold border-b border-dotted pb-1 mt-8",children:[(0,l.jsx)("span",{className:"ml-8 mt-2",children:"TOTAL AMOUNT ENDORSED"}),(0,l.jsx)("span",{className:"mr-4 mt-2",children:(0,m.u)(A)})]})]}),(0,l.jsx)("div",{className:"mt-8",children:v.map((e,r)=>(0,l.jsxs)("div",{className:"grid grid-cols-2 space-y-2 px-4",children:[(0,l.jsx)("span",{children:e.label}),(0,l.jsx)("span",{className:"border-b",children:e.value||"—"})]},r))}),(0,l.jsx)("div",{className:"mt-15 px-4",children:(0,l.jsx)(t.A,{approverList:u})}),(0,l.jsxs)("div",{className:"flex gap-x-4 w-full justify-end mt-6",children:[(0,l.jsx)(n.A,{label:"Submit with e signature",onClick:()=>{p(r,{onSuccess:()=>{x.A.successAlert("Saved","Form saved successfully"),null==b||b(),null==s||s()}})},variant:"success",icon:(0,l.jsx)(a.A,{})}),(0,l.jsx)(n.A,{label:"Close",variant:"danger",onClick:s,icon:(0,l.jsx)(d.A,{})})]})]})}function h(e){var r,s,a,d,n,t,o,i,x,u,h,p,N,j,v,g,y,f,E,A,_,T,O,S,w,R,I,F,P,L;let{mainRequest:D}=e,C=[{label:"DATE ENDORSED:",value:(0,c.gl)(null==D||null==(r=D.formPastDueEndorsement)?void 0:r.date_endorsed)},{label:"ID NO:",value:null==D||null==(s=D.formPastDueEndorsement)?void 0:s.id_no},{label:"PENSIONER NAME:",value:null==D||null==(a=D.formPastDueEndorsement)?void 0:a.name_of_pensioner},{label:"BANK:",value:null==D||null==(d=D.formPastDueEndorsement)?void 0:d.bank},{label:"TYPE OF PENSION:",value:null==D||null==(n=D.formPastDueEndorsement)?void 0:n.type_of_pension},{label:"AGE:",value:null==D||null==(t=D.formPastDueEndorsement)?void 0:t.age},{label:"DATE IN:",value:(0,c.gl)(null==D||null==(o=D.formPastDueEndorsement)?void 0:o.date_in)},{label:"FIRST COLLECTION EFFECTIVITY:",value:(0,c.gl)(null==D||null==(i=D.formPastDueEndorsement)?void 0:i.first_coll_effect)},{label:"LAST TRANSACTION:",value:(0,c.gl)(null==D||null==(x=D.formPastDueEndorsement)?void 0:x.last_transaction)},{label:"TRANSACTION TYPE:",value:null==D||null==(u=D.formPastDueEndorsement)?void 0:u.transaction_type},{label:"NO. OF MONTHS OVERDUE:",value:null==D||null==(h=D.formPastDueEndorsement)?void 0:h.no_of_months_overdue},{label:"WITH INSURANCE/ICOD:",value:null==D||null==(p=D.formPastDueEndorsement)?void 0:p.with_insurance_icod},{label:"REASON FOR NO INSURANCE:",value:null==D||null==(N=D.formPastDueEndorsement)?void 0:N.reason_for_no_insurance}],q=[{label:"REASON FOR NON-COLLECTION OF ACCOUNT",value:null==D||null==(j=D.formPastDueEndorsement)?void 0:j.reason_for_non_coll_acc},{label:"CO-MAKER",value:null==D||null==(v=D.formPastDueEndorsement)?void 0:v.co_maker},{label:"RELATION TO SSP",value:null==D||null==(g=D.formPastDueEndorsement)?void 0:g.relation_to_ssp},{label:"CONTACT NUMBER",value:null==D||null==(y=D.formPastDueEndorsement)?void 0:y.contact_number},{label:"COMPROMISE PAYMENT",value:null==D||null==(f=D.formPastDueEndorsement)?void 0:f.compromise_payment},{label:"PAYMENT START",value:null==D||null==(E=D.formPastDueEndorsement)?void 0:E.payment_start},{label:"ACTION TAKEN",value:null==D||null==(A=D.formPastDueEndorsement)?void 0:A.action_taken}],M=(Number(null==D||null==(_=D.formPastDueEndorsement)?void 0:_.total_lr)||0)+(Number(null==D||null==(T=D.formPastDueEndorsement)?void 0:T.total_ap)||0),U=(Number(null==D||null==(O=D.formPastDueEndorsement)?void 0:O.total_udi)||0)+(Number(null==D||null==(S=D.formPastDueEndorsement)?void 0:S.total_ide)||0),k=(0,m.u)(M),B=(0,m.u)(U),K=M-U;return(0,l.jsxs)("div",{className:"py-4 max-h-130 overflow-y-auto",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h2",{className:"font-extrabold text-2xl",children:null!=(L=null==D?void 0:D.requestFrom.companyName)?L:""}),(0,l.jsx)("h2",{className:"font-bold mt-4 sm:mt-1",children:"REQUEST FOR APPROVAL OF PAST DUE ENDORSEMENT"})]}),(0,l.jsx)("div",{className:"mt-10 pt-5 px-4 font-semibold space-y-2 text-[.7rem] sm:text-base",children:C.map((e,r)=>(0,l.jsxs)("div",{className:"grid grid-cols-2",children:[(0,l.jsx)("span",{className:"border-r sm:border-none",children:e.label}),(0,l.jsx)("span",{className:"pl-2",children:e.value||"—"})]},r))}),(0,l.jsxs)("div",{className:"text-[.7rem] sm:text-base",children:[(0,l.jsxs)("div",{className:"mt-8 px-10 space-y-2",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2",children:[(0,l.jsx)("span",{className:"text-[.6rem] sm:text-base",children:"LOAN BALANCE AS OF"}),(0,l.jsx)("span",{children:(0,c.gl)(null==D||null==(w=D.formPastDueEndorsement)?void 0:w.loan_balance_as_of)})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2",children:[(0,l.jsx)("span",{className:"ml-8",children:"TOTAL LR"}),(0,l.jsx)("span",{children:null==D||null==(R=D.formPastDueEndorsement)?void 0:R.total_lr})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2",children:[(0,l.jsx)("span",{className:"ml-8",children:"TOTAL AP"}),(0,l.jsx)("span",{children:null==D||null==(I=D.formPastDueEndorsement)?void 0:I.total_ap})]}),(0,l.jsxs)("div",{className:"flex justify-between border-t w-10/12 sm:w-7/12 font-bold",children:[(0,l.jsx)("span",{className:"sm:ml-8 mt-1 text-[.6rem] sm:text-base",children:"TOTAL LOAN BALANCE"}),(0,l.jsx)("span",{className:"mr-4 mt-1",children:k})]})]}),(0,l.jsxs)("div",{className:"mt-4 px-10 space-y-2",children:[(0,l.jsx)("div",{className:"grid grid-cols-2",children:(0,l.jsx)("span",{children:"LESS"})}),(0,l.jsxs)("div",{className:"grid grid-cols-2",children:[(0,l.jsx)("span",{className:"ml-8",children:"TOTAL UDI"}),(0,l.jsx)("span",{children:null==D||null==(F=D.formPastDueEndorsement)?void 0:F.total_udi})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2",children:[(0,l.jsx)("span",{className:"ml-8",children:"TOTAL IDE"}),(0,l.jsx)("span",{children:null==D||null==(P=D.formPastDueEndorsement)?void 0:P.total_ide})]}),(0,l.jsxs)("div",{className:"flex justify-between border-t w-7/12 font-bold",children:[(0,l.jsx)("span",{className:"ml-8 mt-1",children:"TOTAL"}),(0,l.jsx)("span",{className:"mr-4 mt-1",children:B})]}),(0,l.jsxs)("div",{className:"flex justify-between w-12/12 sm:w-7/12 font-bold border-b border-dotted pb-1 mt-8",children:[(0,l.jsx)("span",{className:"sm:ml-8 mt-2 text-[.6rem] sm:text-base",children:"TOTAL AMOUNT ENDORSED"}),(0,l.jsx)("span",{className:"mr-4 mt-2 text-[.6rem] sm:text-base",children:(0,m.u)(K)})]})]})]}),(0,l.jsx)("div",{className:"mt-8 text-[.7rem] sm:text-base",children:q.map((e,r)=>(0,l.jsxs)("div",{className:"grid grid-cols-2 space-y-2 px-4",children:[(0,l.jsx)("span",{children:e.label}),(0,l.jsx)("span",{className:"border-b",children:e.value||"—"})]},r))}),(0,l.jsx)("div",{className:"mt-10",children:(0,l.jsx)(b.A,{requestData:D,approverList:null==D?void 0:D.approval})}),(0,l.jsx)("div",{className:"mt-10",children:(0,l.jsx)(b.A,{requestData:D,approverList:null==D?void 0:D.approval})})]})}},74420:(e,r,s)=>{s.d(r,{A:()=>b,F:()=>u});var l=s(95155),a=s(51935),d=s(70567),n=s(16304),t=s(93709),o=s(80968),c=s(44128),i=s(50228),x=s(99472),m=s(77411);function b(e){var r,s;let{formData:m,onClose:b,onReset:u,approvers:h}=e,{data:p=[]}=(0,t.In)(),N=p.find(e=>e.id===(null==m?void 0:m.requestFromId)),{mutate:j}=(0,c.Fo)();return(0,l.jsxs)("div",{className:"py-4  max-h-[70vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"font-black text-center",children:[(0,l.jsxs)("h1",{className:"text-xl",children:[null!=(s=null==N?void 0:N.branchName)?s:"","  LENDING CORPORATION",(0,l.jsx)("br",{})," ",null==N?void 0:N.address]}),(0,l.jsx)("h2",{className:"font-black text-xl mt-4",children:"OFFICE SUPPLIES PURCHASING FORM"})]}),(0,l.jsxs)("div",{className:"mt-15 text-xs",children:[(0,l.jsxs)("div",{className:"flex flex-row justify-evenly gap-x-10 mb-2 font-bold",children:[(0,l.jsx)("div",{children:(0,x.gl)(null==m?void 0:m.date)}),(0,l.jsxs)("div",{className:"text-red-700",children:["NO.",null==m?void 0:m.document_number]})]}),(0,l.jsxs)("table",{className:"border-collapse w-full border border-gray-400 text-center",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"py-1 border border-gray-400",children:"Item Name"}),(0,l.jsx)("th",{className:"border border-gray-400",children:"Qty"}),(0,l.jsx)("th",{className:"border border-gray-400",children:"Unit Price"}),(0,l.jsx)("th",{className:"border border-gray-400",children:"Supplier"}),(0,l.jsx)("th",{className:"border border-gray-400",children:"Supplier Address"}),(0,l.jsx)("th",{className:"border border-gray-400",children:"Remarks"})]})}),(0,l.jsx)("tbody",{children:null==m||null==(r=m.items_list)?void 0:r.map((e,r)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:null==e?void 0:e.item_name}),(0,l.jsxs)("td",{className:"border border-gray-400 p-1",children:[null==e?void 0:e.qty," ",null==e?void 0:e.unit_of_qty]}),(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:null==e?void 0:e.unit_price}),(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:null==e?void 0:e.supplier_name}),(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:null==e?void 0:e.supplier_address}),(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:null==e?void 0:e.remarks})]},r))})]})]}),(0,l.jsx)("div",{className:"mt-15",children:(0,l.jsx)(o.A,{approverList:h})}),(0,l.jsxs)("div",{className:"flex gap-x-4 w-full justify-end mt-10",children:[(0,l.jsx)(n.A,{label:"Submit with e signature",onClick:()=>{j(m,{onSuccess:()=>{i.A.successAlert("Saved","Form saved successfully"),null==u||u(),null==b||b()}})},variant:"success",icon:(0,l.jsx)(a.A,{})}),(0,l.jsx)(n.A,{label:"Close",variant:"danger",onClick:b,icon:(0,l.jsx)(d.A,{})})]})]})}function u(e){var r,s,a,d;let{mainRequest:n}=e;return(0,l.jsxs)("div",{className:"py-4  max-h-[70vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"font-black text-center",children:[(0,l.jsxs)("h1",{className:"text-xl",children:[null==n?void 0:n.requestFrom.branchName,"  LENDING CORPORATION",(0,l.jsx)("br",{}),"  ",null==n?void 0:n.requestFrom.address]}),(0,l.jsx)("h2",{className:"font-black text-xl mt-4",children:"OFFICE SUPPLIES PURCHASING FORM"})]}),(0,l.jsxs)("div",{className:"mt-15 text-[.6rem] md:text-xs",children:[(0,l.jsxs)("div",{className:"flex flex-row justify-evenly gap-x-10 mb-2 font-bold",children:[(0,l.jsx)("div",{children:(0,x.gl)(null==n||null==(r=n.formOSPurchasing)?void 0:r.date)}),(0,l.jsxs)("div",{className:"text-red-700",children:["NO.",null==n||null==(s=n.formOSPurchasing)?void 0:s.document_number]})]}),(0,l.jsxs)("table",{className:"border-collapse w-full border border-gray-400 text-center",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"py-1 border border-gray-400",children:"Item Name"}),(0,l.jsx)("th",{className:"border border-gray-400 px-4 md:px-1",children:"Qty"}),(0,l.jsx)("th",{className:"border border-gray-400 px-4 md:px-1",children:"Unit Price"}),(0,l.jsx)("th",{className:"border border-gray-400 px-4 md:px-1",children:"Supplier"}),(0,l.jsx)("th",{className:"border border-gray-400 px-4 md:px-1",children:"Supplier Address"}),(0,l.jsx)("th",{className:"border border-gray-400 px-4 md:px-1",children:"Remarks"})]})}),(0,l.jsx)("tbody",{children:null==n||null==(d=n.formOSPurchasing)||null==(a=d.items_list)?void 0:a.map((e,r)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:null==e?void 0:e.item_name}),(0,l.jsxs)("td",{className:"border border-gray-400 p-1",children:[null==e?void 0:e.qty," ",null==e?void 0:e.unit_of_qty]}),(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:null==e?void 0:e.unit_price}),(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:null==e?void 0:e.supplier_name}),(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:null==e?void 0:e.supplier_address}),(0,l.jsx)("td",{className:"border border-gray-400 p-1",children:null==e?void 0:e.remarks})]},r))})]})]}),(0,l.jsx)("div",{className:"mt-10 px-4",children:(0,l.jsx)(m.A,{requestData:n,approverList:null==n?void 0:n.approval})})]})}},74588:(e,r,s)=>{s.d(r,{A:()=>d});var l=s(28322),a=s(95155);let d=(0,l.A)((0,a.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel")},76844:(e,r,s)=>{s.d(r,{$:()=>u,A:()=>b});var l=s(95155),a=s(51935),d=s(70567),n=s(16304),t=s(80968),o=s(99472),c=s(93709),i=s(44128),x=s(50228),m=s(77411);function b(e){var r,s,m;let{formData:b,onClose:u,onReset:h,approvers:p}=e,{data:N}=(0,c.XU)(),j=null!=(s=null==N?void 0:N.find(e=>e.id===(null==b?void 0:b.requestToId)))?s:null,{mutate:v}=(0,i.FA)();return(0,l.jsxs)("div",{className:"py-4  max-h-[70vh] overflow-y-auto relative",children:[(0,l.jsx)("div",{className:"absolute top-2 right-2",children:(0,l.jsx)("button",{className:"text-2xl bg-gray-200 text-gray-500 pb-1 hover:text-gray-700 font-semibold rounded-md w-8 h-8 flex items-center justify-center transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-300",onClick:u,"aria-label":"Close modal",children:"\xd7"})}),(0,l.jsxs)("div",{className:"space-y-8 px-4 font-bold",children:[(0,l.jsx)("h2",{children:(0,o.gl)(null==b?void 0:b.date)}),(0,l.jsxs)("h2",{children:[null!=(m=null==j?void 0:j.name.toLocaleUpperCase())?m:"",(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"mt-1",children:null==j?void 0:j.position})]})]}),(0,l.jsx)("div",{className:"px-4 mt-8",children:(0,l.jsx)("h2",{className:"indent-12",children:null==b?void 0:b.request_description})}),(0,l.jsx)("div",{className:"mt-8 w-11/12 border border-gray-200 rounded-md mx-auto",children:(null==b?void 0:b.rows)&&b.rows.length>0?(0,l.jsxs)("table",{className:"w-full border border-gray-300",children:[(0,l.jsx)("thead",{children:(0,l.jsx)("tr",{children:null==(r=b.headers)?void 0:r.map((e,r)=>(0,l.jsx)("th",{className:"border border-gray-300 p-2 bg-gray-100 text-xs text-center",children:e||"Column ".concat(r+1)},r))})}),(0,l.jsx)("tbody",{children:b.rows.map((e,r)=>(0,l.jsx)("tr",{children:e.map((e,r)=>(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-xs text-center",children:e},r))},r))})]}):(0,l.jsx)("p",{className:"text-center p-4 text-gray-500",children:"No data available"})}),(0,l.jsx)("div",{className:"px-4 mt-8",children:(0,l.jsx)("h2",{className:"indent-12",children:null==b?void 0:b.request_note})}),(0,l.jsx)("div",{className:"mt-15 px-4",children:(0,l.jsx)(t.A,{approverList:p})}),(0,l.jsxs)("div",{className:"flex gap-x-4 w-full justify-end mt-6",children:[(0,l.jsx)(n.A,{label:"Submit with e signature",onClick:()=>{v(b,{onSuccess:()=>{x.A.successAlert("Saved","Form saved successfully"),null==h||h(),null==u||u()}})},variant:"success",icon:(0,l.jsx)(a.A,{})}),(0,l.jsx)(n.A,{label:"Close",variant:"danger",onClick:u,icon:(0,l.jsx)(d.A,{})})]})]})}function u(e){var r,s,a,d,n,t,c,i,x,b,u,h,p,N,j,v,g,y,f;let{mainRequest:E}=e;return(0,l.jsxs)("div",{className:"max-h-[70vh] overflow-y-auto px-2 py-8",children:[(0,l.jsxs)("div",{className:"space-y-8 px-4 font-bold",children:[(0,l.jsx)("h2",{children:null!=(g=(0,o.gl)(null==E||null==(r=E.formPreSign)?void 0:r.date))?g:""}),(0,l.jsxs)("h2",{children:[null!=(y=null==E||null==(a=E.formPreSign)||null==(s=a.requestTo)?void 0:s.name)?y:"",(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"mt-1",children:null!=(f=null==E||null==(n=E.formPreSign)||null==(d=n.requestTo)?void 0:d.position)?f:""})]})]}),(0,l.jsx)("div",{className:"px-2 mt-8 sm:px-4",children:(0,l.jsx)("h2",{className:"indent-4 sm:indent-12 text-[.6rem] sm:text-base text-justify",children:null==E||null==(t=E.formPreSign)?void 0:t.request_description})}),(0,l.jsx)("div",{className:"mt-8 w-11/12 rounded-md mx-auto",children:(null==E||null==(i=E.formPreSign)||null==(c=i.table_data)?void 0:c.rows)&&(null==E||null==(b=E.formPreSign)||null==(x=b.table_data)?void 0:x.rows.length)>0?(0,l.jsxs)("table",{className:"w-full border border-gray-300",children:[(0,l.jsx)("thead",{children:(0,l.jsx)("tr",{children:null==E||null==(p=E.formPreSign)||null==(h=p.table_data)||null==(u=h.headers)?void 0:u.map((e,r)=>(0,l.jsx)("th",{className:"border border-gray-300 p-2 bg-gray-100 text-xs text-center",children:e||"Column ".concat(r+1)},r))})}),(0,l.jsx)("tbody",{children:null==E||null==(j=E.formPreSign)||null==(N=j.table_data)?void 0:N.rows.map((e,r)=>(0,l.jsx)("tr",{children:e.map((e,r)=>(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-xs text-center",children:e},r))},r))})]}):(0,l.jsx)("p",{className:"text-center p-4 text-gray-500",children:"No data available"})}),(0,l.jsx)("div",{className:"px-2 mt-8 sm:px-4",children:(0,l.jsx)("h2",{className:"indent-4 sm:indent-12 text-[.6rem] sm:text-base text-justify",children:null==E||null==(v=E.formPreSign)?void 0:v.request_note})}),(0,l.jsx)("div",{className:"mt-10",children:(0,l.jsx)(m.A,{requestData:E,approverList:null==E?void 0:E.approval})})]})}},77411:(e,r,s)=>{s.d(r,{A:()=>a});var l=s(95155);function a(e){let{approverList:r,requestData:s}=e,a=(null!=r?r:[]).reduce((e,r)=>{if(!r.approver)return e;switch(r.roleType){case"checkedById":case"checkedBy2Id":case"checkedBy3Id":case"checkedBy4Id":e.checked.push(r);break;case"recomApprovalId":case"recomApproval2Id":e.recommending.push(r);break;case"approveById":case"approveBy2Id":e.approved.push(r)}return e},{checked:[],recommending:[],approved:[]});return console.log("test",a),(0,l.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,l.jsxs)("div",{className:"flex flex-col justify-start",children:[(0,l.jsxs)("div",{className:"flex flex-col w-31",children:[(0,l.jsx)("p",{className:"self-start",children:"Respectfully yours,"}),(0,l.jsx)("p",{className:"self-center font-extrabold",children:"(signed)"})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{className:"font-extrabold",children:null==s?void 0:s.requestBy.name}),(0,l.jsx)("p",{className:"font-semibold",children:null==s?void 0:s.requestBy.position})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(160px,1fr))] gap-x-[1rem] gap-y-[1rem]",children:[(null==a?void 0:a.checked.length)>0&&(0,l.jsxs)("div",{className:"flex flex-col gap-[1rem]",children:[(0,l.jsx)("p",{children:"Checked by:"}),a.checked.map((e,r)=>(0,l.jsxs)("div",{className:"flex flex-col",children:["APPROVED"===e.status&&(0,l.jsx)("p",{className:" font-extrabold pl-10",children:"(signed)"}),(0,l.jsx)("p",{className:"font-extrabold",children:e.approver.name}),(0,l.jsx)("p",{className:"font-semibold",children:e.approver.position})]},r))]}),(null==a?void 0:a.recommending.length)>0&&(0,l.jsxs)("div",{className:"flex flex-col gap-[1rem]",children:[(0,l.jsx)("p",{children:"Recommending Approval"}),a.recommending.map((e,r)=>(0,l.jsxs)("div",{className:"flex flex-col",children:["APPROVED"===e.status&&(0,l.jsx)("p",{className:" font-extrabold pl-10",children:"(signed)"}),(0,l.jsx)("p",{className:"font-extrabold",children:e.approver.name}),(0,l.jsx)("p",{className:"font-semibold",children:e.approver.position})]},r))]}),(null==a?void 0:a.approved.length)>0&&(0,l.jsxs)("div",{className:"flex flex-col gap-[1rem]",children:[(0,l.jsx)("p",{children:"Approved by:"}),a.approved.map((e,r)=>(0,l.jsxs)("div",{className:"flex flex-col",children:["APPROVED"===e.status&&(0,l.jsx)("p",{className:" font-extrabold pl-10",children:"(signed)"}),(0,l.jsx)("p",{className:"font-extrabold",children:e.approver.name}),(0,l.jsx)("p",{className:"font-semibold",children:e.approver.position})]},r))]})]})]})}},80968:(e,r,s)=>{s.d(r,{A:()=>n});var l=s(95155),a=s(4236),d=s(93709);function n(e){var r,s,n,t,o,c,i,x,m,b,u,h,p,N,j,v;let{approverList:g}=e,{data:y}=(0,a.rA)(),{data:f}=(0,d.XU)(),E=e=>{if(null!=e)return null==f?void 0:f.find(r=>r.id===e)};console.log("approver ",g);let A=E(null==g?void 0:g.checkedById),_=E(null==g?void 0:g.checkedBy2Id),T=E(null==g?void 0:g.checkedBy3Id),O=E(null==g?void 0:g.checkedBy4Id),S=E(null==g?void 0:g.recomApprovalId),w=E(null==g?void 0:g.recomApproval2Id),R=E(null==g?void 0:g.approveById),I=E(null==g?void 0:g.approveBy2Id);return(0,l.jsxs)("div",{className:"flex flex-col gap-5 px-3",children:[(0,l.jsxs)("div",{className:"flex flex-col justify-start",children:[(0,l.jsxs)("div",{className:"flex flex-col w-31",children:[(0,l.jsx)("p",{className:"self-start",children:"Respectfully yours,"}),(0,l.jsx)("p",{className:"self-center font-extrabold",children:"(signed)"})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{className:"font-extrabold",children:null==y?void 0:y.name}),(0,l.jsx)("p",{className:"font-bold",children:"BRANCH F & A"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(A||_||T||O)&&(0,l.jsx)("div",{className:"flex flex-col gap-10",children:(0,l.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,l.jsx)("p",{children:"Checked by:"}),A&&(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{className:"font-extrabold",children:null!=(r=null==A?void 0:A.name)?r:""}),(0,l.jsx)("p",{className:"font-bold",children:null!=(s=null==A?void 0:A.position)?s:""})]}),_&&(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{className:"font-extrabold",children:null!=(n=null==_?void 0:_.name)?n:""}),(0,l.jsx)("p",{className:"font-bold",children:null!=(t=null==_?void 0:_.position)?t:""})]}),T&&(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{className:"font-extrabold",children:null!=(o=null==T?void 0:T.name)?o:""}),(0,l.jsx)("p",{className:"font-bold",children:null!=(c=null==T?void 0:T.position)?c:""})]}),O&&(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{className:"font-extrabold",children:null!=(i=null==O?void 0:O.name)?i:""}),(0,l.jsx)("p",{className:"font-bold",children:null!=(x=null==O?void 0:O.position)?x:""})]})]})}),(S||w)&&(0,l.jsx)("div",{className:"flex flex-col gap-10",children:(0,l.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,l.jsx)("p",{children:"Recommending Approval"}),S&&(0,l.jsxs)("div",{className:"flex flex-col mb-5",children:[(0,l.jsx)("p",{className:"font-extrabold",children:null!=(m=null==S?void 0:S.name)?m:""}),(0,l.jsx)("p",{className:"font-bold",children:null!=(b=null==S?void 0:S.position)?b:""})]}),w&&(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{className:"font-extrabold",children:null!=(u=null==w?void 0:w.name)?u:""}),(0,l.jsx)("p",{className:"font-bold",children:null!=(h=null==w?void 0:w.position)?h:""})]})]})}),(R||I)&&(0,l.jsx)("div",{className:"flex",children:(0,l.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,l.jsx)("p",{children:"Approved by:"}),R&&(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{className:"font-extrabold",children:null!=(p=null==R?void 0:R.name)?p:""}),(0,l.jsx)("p",{className:"font-bold",children:null!=(N=null==R?void 0:R.position)?N:""})]}),I&&(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{className:"font-extrabold",children:null!=(j=null==I?void 0:I.name)?j:""}),(0,l.jsx)("p",{className:"font-bold",children:null!=(v=null==I?void 0:I.position)?v:""})]})]})})]})]})}},88933:(e,r,s)=>{s.d(r,{A:()=>b,k:()=>u});var l=s(95155);s(12115);var a=s(50228),d=s(44128),n=s(93709),t=s(16304),o=s(51935),c=s(70567),i=s(99472),x=s(80968),m=s(77411);function b(e){var r,s,m,b;let{formData:u,onClose:h,onReset:p,approvers:N}=e,{data:j=[]}=(0,n.In)(),v=j.find(e=>e.id===(null==u?void 0:u.requestFromId)),{mutate:g}=(0,d.Q5)();function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((e,r)=>{var s,l,a,d;return{budget:e.budget+(null!=(s=r.budget)?s:0),total_expense:e.total_expense+(null!=(l=r.total_expense)?l:0),variance:e.variance+(null!=(a=r.variance)?a:0),proposed_budget:e.proposed_budget+(null!=(d=r.proposed_budget)?d:0)}},{budget:0,total_expense:0,variance:0,proposed_budget:0})}let f=y(null==u?void 0:u.admin_exp),E=y(null==u?void 0:u.office_exp),A=y(null==u?void 0:u.unbudgeted_exp),_={budget:f.budget+E.budget+A.budget,total_expense:f.total_expense+E.total_expense+A.total_expense,variance:f.variance+E.variance+A.variance,proposed_budget:f.proposed_budget+E.proposed_budget+A.proposed_budget};return(0,l.jsxs)("div",{className:"py-4  max-h-[70vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"font-bold mb-2",children:[(0,l.jsxs)("h2",{children:[null!=(b=null==v?void 0:v.branchName)?b:"","  BRANCH"]}),(0,l.jsx)("h2",{children:"PROPOSED BUDGET"}),(0,l.jsxs)("h2",{children:["FOR THE MONTH ",(0,i.UL)(null==u?void 0:u.month_of).toLocaleUpperCase()]})]}),(0,l.jsx)("div",{children:(0,l.jsxs)("table",{className:"w-full text-sm",children:[(0,l.jsx)("thead",{className:"bg-gray-100",children:(0,l.jsxs)("tr",{className:"text-center",children:[(0,l.jsx)("th",{className:"border px-2 py-1"}),(0,l.jsx)("th",{className:"border px-2 py-1",children:"BUDGET"}),(0,l.jsx)("th",{className:"border px-2 py-1",children:"TOTAL EXP"}),(0,l.jsx)("th",{className:"border px-2 py-1",children:"VARIANCE"}),(0,l.jsx)("th",{className:"border px-2 py-1",children:"PROPOSED BUDGET"}),(0,l.jsx)("th",{className:"border px-2 py-1",children:"REMARKS"})]})}),(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{className:"text-center border font-bold",children:[(0,l.jsx)("td",{className:"border",children:"OPERATING EXPENSE"}),(0,l.jsx)("td",{className:"border",children:(0,i.xc)(null==u?void 0:u.month_of)}),(0,l.jsx)("td",{className:"border",children:(0,i.xc)(null==u?void 0:u.month_of)}),(0,l.jsx)("td",{className:"border"}),(0,l.jsx)("td",{className:"border"})]}),(0,l.jsxs)("tr",{className:"text-center border",children:[(0,l.jsx)("td",{className:"border font-semibold",children:"ADMIN & PERSONNEL EXP:"}),(0,l.jsx)("td",{className:"border",colSpan:4})]}),null==u||null==(r=u.admin_exp)?void 0:r.map((e,r)=>(0,l.jsxs)("tr",{className:"text-center",children:[(0,l.jsx)("td",{className:"border",children:e.item_description}),(0,l.jsx)("td",{className:"border",children:e.budget}),(0,l.jsx)("td",{className:"border",children:e.total_expense}),(0,l.jsx)("td",{className:"border",children:e.variance}),(0,l.jsx)("td",{className:"border",children:e.proposed_budget}),(0,l.jsx)("td",{className:"border",children:e.remarks})]},r)),(0,l.jsxs)("tr",{className:"text-center font-bold",children:[(0,l.jsx)("td",{className:"border",children:"TOTAL ADMIN & PERSONNEL EXP"}),(0,l.jsx)("td",{className:"border",children:f.budget}),(0,l.jsx)("td",{className:"border",children:f.total_expense}),(0,l.jsx)("td",{className:"border",children:f.variance}),(0,l.jsx)("td",{className:"border",children:f.proposed_budget}),(0,l.jsx)("td",{className:"border"})]}),(0,l.jsx)("tr",{className:"text-center border",children:(0,l.jsx)("td",{colSpan:6,className:"text-transparent",children:"d"})}),(0,l.jsxs)("tr",{className:"text-center border",children:[(0,l.jsx)("td",{className:"border font-semibold",children:"OFFICE & OTHER EXP:"}),(0,l.jsx)("td",{className:"border",colSpan:4})]}),null==u||null==(s=u.office_exp)?void 0:s.map((e,r)=>(0,l.jsxs)("tr",{className:"text-center",children:[(0,l.jsx)("td",{className:"border",children:e.item_description}),(0,l.jsx)("td",{className:"border",children:e.budget}),(0,l.jsx)("td",{className:"border",children:e.total_expense}),(0,l.jsx)("td",{className:"border",children:e.variance}),(0,l.jsx)("td",{className:"border",children:e.proposed_budget}),(0,l.jsx)("td",{className:"border",children:e.remarks})]},r)),(0,l.jsxs)("tr",{className:"text-center font-bold",children:[(0,l.jsx)("td",{className:"border",children:"TOTAL OFFICE & OTHERS EXP"}),(0,l.jsx)("td",{className:"border",children:E.budget}),(0,l.jsx)("td",{className:"border",children:E.total_expense}),(0,l.jsx)("td",{className:"border",children:E.variance}),(0,l.jsx)("td",{className:"border",children:E.proposed_budget}),(0,l.jsx)("td",{className:"border"})]}),(0,l.jsxs)("tr",{className:"text-center font-bold",children:[(0,l.jsx)("td",{className:"border",children:"TOTAL OPERATING EXPENSE"}),(0,l.jsx)("td",{className:"border",children:_.budget}),(0,l.jsx)("td",{className:"border",children:_.total_expense}),(0,l.jsx)("td",{className:"border",children:_.variance}),(0,l.jsx)("td",{className:"border",children:_.proposed_budget}),(0,l.jsx)("td",{className:"border"})]}),(0,l.jsx)("tr",{className:"text-center border",children:(0,l.jsx)("td",{colSpan:6,className:"text-transparent",children:"d"})}),(0,l.jsxs)("tr",{className:"text-center border",children:[(0,l.jsx)("td",{className:"border font-semibold",children:"UNBUDGETED EXPENSES:"}),(0,l.jsx)("td",{className:"border",colSpan:4})]}),null==u||null==(m=u.unbudgeted_exp)?void 0:m.map((e,r)=>(0,l.jsxs)("tr",{className:"text-center",children:[(0,l.jsx)("td",{className:"border",children:e.item_description}),(0,l.jsx)("td",{className:"border",children:e.budget}),(0,l.jsx)("td",{className:"border",children:e.total_expense}),(0,l.jsx)("td",{className:"border",children:e.variance}),(0,l.jsx)("td",{className:"border",children:e.proposed_budget}),(0,l.jsx)("td",{className:"border",children:e.remarks})]},r)),(0,l.jsxs)("tr",{className:"text-center font-extrabold",children:[(0,l.jsx)("td",{children:"TOTAL EXPENSES"}),(0,l.jsx)("td",{className:"border-b p-1",children:_.budget}),(0,l.jsx)("td",{className:"border-b p-1",children:_.total_expense}),(0,l.jsx)("td",{className:"border-b p-1",children:_.variance}),(0,l.jsx)("td",{className:"border-b p-1",children:_.proposed_budget})]})]})]})}),(0,l.jsx)("div",{className:"mt-15 px-4",children:(0,l.jsx)(x.A,{approverList:N})}),(0,l.jsxs)("div",{className:"flex gap-x-4 w-full justify-end mt-6",children:[(0,l.jsx)(t.A,{label:"Submit with e signature",onClick:()=>{g(u,{onSuccess:()=>{a.A.successAlert("Saved","Form saved successfully"),null==p||p(),null==h||h()}})},variant:"success",icon:(0,l.jsx)(o.A,{})}),(0,l.jsx)(t.A,{label:"Close",variant:"danger",onClick:h,icon:(0,l.jsx)(c.A,{})})]})]})}function u(e){var r,s,a,d,n,t,o,c,x,b,u,h,p,N,j;let{mainRequest:v}=e;function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((e,r)=>{var s,l,a,d;return{budget:e.budget+Number(null!=(s=r.budget)?s:0),total_expense:e.total_expense+Number(null!=(l=r.total_expenses)?l:0),variance:e.variance+Number(null!=(a=r.variance)?a:0),proposed_budget:e.proposed_budget+Number(null!=(d=r.proposed_budget)?d:0)}},{budget:0,total_expense:0,variance:0,proposed_budget:0})}let y=g(null==v||null==(r=v.proposedBudget)?void 0:r.filter(e=>"ADMIN"===e.expense_type)),f=g(null==v||null==(s=v.proposedBudget)?void 0:s.filter(e=>"OFFICE"===e.expense_type)),E=g(null==v||null==(a=v.proposedBudget)?void 0:a.filter(e=>"UNBUDGETED"===e.expense_type)),A={budget:y.budget+f.budget+E.budget,total_expense:y.total_expense+f.total_expense+E.total_expense,variance:y.variance+f.variance+E.variance,proposed_budget:y.proposed_budget+f.proposed_budget+E.proposed_budget};return(0,l.jsxs)("div",{className:"space-y-2 py-10 overflow-auto max-h-130",children:[(0,l.jsxs)("div",{className:"font-bold mb-2",children:[(0,l.jsxs)("h2",{children:[null==v?void 0:v.requestFrom.branchName," BRANCH"]}),(0,l.jsx)("h2",{children:"PROPOSED BUDGET"}),(0,l.jsxs)("h2",{children:["FOR THE MONTH ",(0,i.UL)(null!=(p=null==v||null==(n=v.proposedBudget)||null==(d=n[0])?void 0:d.month_of)?p:"").toLocaleUpperCase()]})]}),(0,l.jsx)("div",{children:(0,l.jsxs)("table",{className:"w-full text-[.6rem] sm:text-sm ",children:[(0,l.jsx)("thead",{className:"bg-gray-100",children:(0,l.jsxs)("tr",{className:"text-center",children:[(0,l.jsx)("th",{className:"border px-2 py-1"}),(0,l.jsx)("th",{className:"border px-2 py-1",children:"BUDGET"}),(0,l.jsx)("th",{className:"border px-2 py-1",children:"TOTAL EXP"}),(0,l.jsx)("th",{className:"border px-2 py-1",children:"VARIANCE"}),(0,l.jsx)("th",{className:"border px-2 py-1",children:"PROPOSED BUDGET"}),(0,l.jsx)("th",{className:"border px-2 py-1",children:"REMARKS"})]})}),(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{className:"text-center border font-bold",children:[(0,l.jsx)("td",{className:"border  p-2 sm:p-1",children:"OPERATING EXPENSE"}),(0,l.jsx)("td",{className:"border",children:(0,i.xc)(null!=(N=null==v||null==(o=v.proposedBudget)||null==(t=o[0])?void 0:t.month_of)?N:"")}),(0,l.jsx)("td",{className:"border",children:(0,i.xc)(null!=(j=null==v||null==(x=v.proposedBudget)||null==(c=x[0])?void 0:c.month_of)?j:"")}),(0,l.jsx)("td",{className:"border"}),(0,l.jsx)("td",{className:"border"})]}),(0,l.jsxs)("tr",{className:"text-center border",children:[(0,l.jsx)("td",{className:"border font-semibold  p-2 sm:p-1",children:"ADMIN & PERSONNEL EXP:"}),(0,l.jsx)("td",{className:"border",colSpan:4})]}),null==v||null==(b=v.proposedBudget)?void 0:b.filter(e=>"ADMIN"===e.expense_type).map((e,r)=>(0,l.jsxs)("tr",{className:"text-center",children:[(0,l.jsx)("td",{className:"border",children:e.description}),(0,l.jsx)("td",{className:"border",children:e.budget}),(0,l.jsx)("td",{className:"border",children:e.total_expenses}),(0,l.jsx)("td",{className:"border",children:e.variance}),(0,l.jsx)("td",{className:"border",children:e.proposed_budget}),(0,l.jsx)("td",{className:"border",children:e.remarks})]},r)),(0,l.jsxs)("tr",{className:"text-center font-bold",children:[(0,l.jsx)("td",{className:"border p-2 sm:p-1",children:"TOTAL ADMIN & PERSONNEL EXP"}),(0,l.jsx)("td",{className:"border",children:y.budget}),(0,l.jsx)("td",{className:"border",children:y.total_expense}),(0,l.jsx)("td",{className:"border",children:y.variance}),(0,l.jsx)("td",{className:"border",children:y.proposed_budget}),(0,l.jsx)("td",{className:"border"})]}),(0,l.jsx)("tr",{className:"text-center border",children:(0,l.jsx)("td",{colSpan:6,className:"text-transparent",children:"d"})}),(0,l.jsxs)("tr",{className:"text-center border",children:[(0,l.jsx)("td",{className:"border font-semibold  p-2 sm:p-1",children:"OFFICE & OTHER EXP:"}),(0,l.jsx)("td",{className:"border",colSpan:4})]}),null==v||null==(u=v.proposedBudget)?void 0:u.filter(e=>"OFFICE"===e.expense_type).map((e,r)=>(0,l.jsxs)("tr",{className:"text-center",children:[(0,l.jsx)("td",{className:"border",children:e.description}),(0,l.jsx)("td",{className:"border",children:e.budget}),(0,l.jsx)("td",{className:"border",children:e.total_expenses}),(0,l.jsx)("td",{className:"border",children:e.variance}),(0,l.jsx)("td",{className:"border",children:e.proposed_budget}),(0,l.jsx)("td",{className:"border",children:e.remarks})]},r)),(0,l.jsxs)("tr",{className:"text-center font-bold",children:[(0,l.jsx)("td",{className:"border  p-2 sm:p-1",children:"TOTAL OFFICE & OTHERS EXP"}),(0,l.jsx)("td",{className:"border",children:f.budget}),(0,l.jsx)("td",{className:"border",children:f.total_expense}),(0,l.jsx)("td",{className:"border",children:f.variance}),(0,l.jsx)("td",{className:"border",children:f.proposed_budget}),(0,l.jsx)("td",{className:"border"})]}),(0,l.jsxs)("tr",{className:"text-center font-bold",children:[(0,l.jsx)("td",{className:"border  p-2 sm:p-1",children:"TOTAL OPERATING EXPENSE"}),(0,l.jsx)("td",{className:"border",children:A.budget}),(0,l.jsx)("td",{className:"border",children:A.total_expense}),(0,l.jsx)("td",{className:"border",children:A.variance}),(0,l.jsx)("td",{className:"border",children:A.proposed_budget}),(0,l.jsx)("td",{className:"border"})]}),(0,l.jsx)("tr",{className:"text-center border",children:(0,l.jsx)("td",{colSpan:6,className:"text-transparent",children:"d"})}),(0,l.jsxs)("tr",{className:"text-center border",children:[(0,l.jsx)("td",{className:"border font-semibold p-2 sm:p-1",children:"UNBUDGETED EXPENSES:"}),(0,l.jsx)("td",{className:"border",colSpan:4})]}),null==v||null==(h=v.proposedBudget)?void 0:h.filter(e=>"UNBUDGETED"===e.expense_type).map((e,r)=>(0,l.jsxs)("tr",{className:"text-center",children:[(0,l.jsx)("td",{className:"border",children:e.description}),(0,l.jsx)("td",{className:"border",children:e.budget}),(0,l.jsx)("td",{className:"border",children:e.total_expenses}),(0,l.jsx)("td",{className:"border",children:e.variance}),(0,l.jsx)("td",{className:"border",children:e.proposed_budget}),(0,l.jsx)("td",{className:"border",children:e.remarks})]},r)),(0,l.jsxs)("tr",{className:"text-center font-extrabold",children:[(0,l.jsx)("td",{children:"TOTAL EXPENSES"}),(0,l.jsx)("td",{className:"border-b p-1",children:A.budget}),(0,l.jsx)("td",{className:"border-b p-1",children:A.total_expense}),(0,l.jsx)("td",{className:"border-b p-1",children:A.variance}),(0,l.jsx)("td",{className:"border-b p-1",children:A.proposed_budget})]})]})]})}),(0,l.jsx)("div",{className:"mt-10",children:(0,l.jsx)(m.A,{requestData:v,approverList:null==v?void 0:v.approval})})]})}},92523:(e,r,s)=>{s.d(r,{A:()=>n});var l=s(95155),a=s(12115);let d={xs:"w-[350px]",sm:"w-[500px]",md:"w-[650px]",lg:"w-[800px]",xl:"w-[950px]",xxl:"w-[1100px]",xxxl:"w-[1250px]"};function n(e){let{size:r,nested:s=!1,onClose:n,title:t,children:o,disableEscClose:c}=e;return(0,a.useEffect)(()=>{if(c)return;let e=e=>{"Escape"===e.key&&(null==n||n())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n,c]),(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center ".concat(s?"bg-[#2a272785]":"bg-[#11060685]"),children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-lg  relative ".concat(d[r]," max-h-160"),children:[(n||t)&&(0,l.jsxs)("div",{className:"flex justify-between items-center px-6 py-3 border-b border-gray-200 ",children:[t&&(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-700",children:t}),n&&(0,l.jsx)("button",{onClick:n,className:"text-3xl  font-bold rounded-full w-10 h-10 hover:bg-gray-300  text-gray-600  cursor-pointer",children:"\xd7"})]}),(0,l.jsx)("div",{className:"text-sm text-gray-700 mt-2 px-6 py-2",children:o})]})})}},93709:(e,r,s)=>{s.d(r,{hr:()=>i,Pm:()=>_,i4:()=>h,aM:()=>g,TG:()=>m,wl:()=>j,iY:()=>E,In:()=>b,GS:()=>T,B6:()=>p,XU:()=>f,nl:()=>x,eB:()=>N,Qc:()=>y});var l=s(31886),a=s(15375),d=s(94469),n=s(26715),t=s(5041),o=s(32960);let c=["branches"],i=()=>(0,a.as)({mutationFn:e=>(0,d.ys)("/request/add-branch",e),queryKey:c}),x=()=>(0,a.as)({mutationFn:e=>{let{id:r,data:s}=e;return(0,d.O6)("/request/update-branch/".concat(r),s)},queryKey:["branches"]}),m=()=>(0,a.a6)({baseUrl:"/request/delete-branch",invalidateKeys:[c]}),b=()=>(0,a.j)({queryKey:c,queryFn:()=>(0,d.bQ)("/request/fetch-branch")}),u=["request-type"],h=()=>(0,a.as)({mutationFn:e=>(0,d.ys)("/request/add-request-type",e),queryKey:u}),p=()=>(0,a.j)({queryKey:u,queryFn:async()=>{let e=await (0,d.bQ)("/request/list-request-type");return Array.isArray(e.data)?e.data:[]}}),N=()=>(0,a.as)({mutationFn:e=>{let{id:r,data:s}=e;return(0,d.O6)("/request/update-request/".concat(r),s)},queryKey:["request-type"]}),j=()=>(0,a.a6)({baseUrl:"/request/delete-request-type",invalidateKeys:[u]}),v=["users"],g=()=>{let e=(0,n.jE)();return(0,t.n)({mutationFn:async e=>(await l.A.post("/register",e,{headers:{"Content-Type":"multipart/form-data"}})).data,onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})},y=()=>(0,a.as)({mutationFn:e=>{let{id:r,data:s}=e;return(0,d.O6)("/request/update-user/".concat(r),s)},queryKey:["users"]}),f=()=>(0,a.j)({queryKey:v,queryFn:()=>(0,d.bQ)("/users")}),E=()=>(0,a.a6)({baseUrl:"/request/delete-user",invalidateKeys:[v]}),A=["approvals"],_=()=>(0,a.as)({mutationFn:e=>(0,d.ys)("/request/add-fund-transfer",e),queryKey:A}),T=()=>(0,o.I)({queryKey:["coordinatorReport"],queryFn:async()=>(await l.A.get("/request/fetch-coordinator-report")).data})},94469:(e,r,s)=>{s.d(r,{F9:()=>t,O6:()=>d,ST:()=>o,bQ:()=>n,ys:()=>a});var l=s(31886);async function a(e,r){return(await l.A.post(e,r)).data}async function d(e,r){return(await l.A.put(e,r)).data}async function n(e,r){return(await l.A.get(e,{params:r})).data}async function t(e,r){return(await l.A.get(e,{params:r})).data}async function o(e,r){return(await l.A.delete("".concat(e,"/").concat(r))).data}},99472:(e,r,s)=>{s.d(r,{UL:()=>n,XU:()=>a,gl:()=>d,xc:()=>t});var l=s(95155);s(12115);let a=e=>{let{value:r,locale:s="en-US"}=e;if(!r)return null;let a=new Date(r).toLocaleDateString(s,{year:"numeric",month:"long",day:"numeric"});return(0,l.jsx)("span",{children:a})};function d(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if(!e)return"";let s=null;return("string"==typeof e?s=/^\d{4}-\d{2}-\d{2}$/.test(e)?function(e){if(!e)return null;let r=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!r)return null;let s=Number(r[1]),l=Number(r[2]),a=Number(r[3]);return l<1||l>12?null:new Date(Date.UTC(s,l-1,a))}(e):new Date(e):e instanceof Date&&(s=e),!s||isNaN(s.getTime()))?"":new Intl.DateTimeFormat(r,{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}).format(s)}let n=e=>{if(!e)return"";let[r,s]=e.split("-"),l=new Date(Number(r),Number(s)-1);return new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}).format(l)},t=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e)return"";let[s,l]=e.split("-"),a=new Date(Number(s),Number(l)-1);return a.setMonth(a.getMonth()-r),new Intl.DateTimeFormat("en-US",{month:"long"}).format(a)}}}]);